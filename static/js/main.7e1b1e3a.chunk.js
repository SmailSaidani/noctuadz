(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){},122:function(e,t,a){e.exports=a.p+"static/media/backdrop.60a4d80f.png"},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},184:function(e,t,a){e.exports=a(248)},195:function(e,t,a){},199:function(e,t,a){},218:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),l=a.n(r),o=a(5),i=a(26),s=a(21),u=a(2),m=a(148),d=a(149),p=a(77),f=Object(m.a)({apiKey:"AIzaSyC_JZRjWtP6ODDJXPL0mXSWz7bDJhEu6Bc",authDomain:"mohhh-bbc3c.firebaseapp.com",projectId:"mohhh-bbc3c",storageBucket:"mohhh-bbc3c.appspot.com",messagingSenderId:"998457806797",appId:"1:998457806797:web:39d42f1e4b46ffb8a2be84"}),b=Object(u.j)(f),E=(Object(d.a)(f),Object(p.b)(f)),O=a(150),j=a.n(O),h=(a(194),a(282)),v=(a(195),function(e){var t=e.open,a=e.onClose,n=e.title,r=e.callback,l=e.children,o=e.Icon,i=e.ButtonText;return c.a.createElement(j.a,{open:t,onClose:a},c.a.createElement("div",{className:"modal__header"},c.a.createElement("div",{className:"backIcon"},c.a.createElement(o,{onClick:a})),c.a.createElement("h2",null,n),i.length>0&&c.a.createElement(h.a,{onClick:function(){r(),a()}},i)),l)}),g=a(1),w=a.n(g),N=a(3),_=a(306),x=a(289),y=a(290),k=a(291),S=a(292),C=a(304),I=a(52),R=a.n(I),A=function(){return c.a.createElement("i",{className:"fa fa-spinner fa-spin"})},T=function(e){var t=e.type,a=e.accept,n=e.name,r=e.id,l=(e.htmlFor,e.Icon),o=e.onChange,i=e.onClick;return c.a.createElement("div",{onClick:i},c.a.createElement("input",{type:t,accept:a,name:n,id:r,style:{display:"none"},onChange:o}),c.a.createElement("label",{htmlFor:r},c.a.createElement(l,null)))},B=a(171),L=(a(199),a(154)),U=a.n(L),P=a(285),D=a(46),M=a(302),z=a(250),F=a(286),q=a(303),W=a(287);function H(e){var t=e.children,a=e.value,n=e.index,r=Object(B.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&c.a.createElement(M.a,{p:3},c.a.createElement(z.a,{component:"span"},t)))}var J=Object(P.a)(function(e){return{root:{backgroundColor:e.palette.background.paper}}});function Z(e){var t=e.items,a=J(),n=Object(D.a)(),r=c.a.useState(0),l=Object(o.a)(r,2),i=l[0],s=l[1];return c.a.createElement("div",{className:"tabbarMenu ".concat(a.root)},c.a.createElement(F.a,{position:"static",color:"default"},c.a.createElement(q.a,{value:i,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"crop and edit image"},t.map(function(e){return c.a.createElement(W.a,Object.assign({key:e.id,icon:e.icon,label:e.title},(t=e.id,{id:"full-width-tab-".concat(t),"aria-controls":"full-width-tabpanel-".concat(t)})));var t}))),c.a.createElement(U.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:i,onChangeIndex:function(e){s(e)}},t.map(function(e){return c.a.createElement(H,{value:i,index:e.id,dir:n.direction,key:e.id},e.item)})))}var V=a(16),Y=a(4),$=a(7),X=a(14),G=a(12),K=a(13),Q=a(155),ee=a.n(Q),te=(a(217),a(218),a(288)),ae=a(305),ne=a(156),ce=a.n(ne),re=a(157),le=a.n(re),oe=Object(P.a)({root:{minWidth:100}});function ie(e){var t=e.val,a=e.setVal,n=oe();return c.a.createElement("div",{className:n.root},c.a.createElement(te.a,{container:!0,spacing:2},c.a.createElement(te.a,{item:!0},c.a.createElement(ce.a,null)),c.a.createElement(te.a,{item:!0,xs:!0},c.a.createElement(ae.a,{value:t,onChange:function(e,t){a(t)},min:1,max:100,"aria-labelledby":"continuous-slider"})),c.a.createElement(te.a,{item:!0},c.a.createElement(le.a,null))))}var se=a(159),ue=a.n(se),me=a(160),de=a.n(me),pe=a(158),fe=a.n(pe),be=function(e){function t(){var e,a;Object(Y.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(X.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(c)))).state={src:null,crop:{unit:"%",width:30,aspect:a.props.initialAspectRatio||.75},originalImageSize:null,croppedImageUrl:null,zoomScale:1},a.onImageLoaded=function(e){a.imageRef=e},a.onCropChange=function(e){a.setState({crop:e})},a.onCropComplete=function(){var e=Object(N.a)(w.a.mark(function e(t){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,a.getCroppedImg(a.imageRef,t);case 3:n=e.sent,a.setState({croppedImageUrl:n});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onChangeAspectRatio=function(e){a.setState({crop:Object(V.a)({},a.state.crop,{aspect:e})})},a.onChangeZoomScale=function(e){a.setState({zoomScale:e})},a}return Object(K.a)(t,e),Object($.a)(t,[{key:"getCroppedImg",value:function(e,t){var a=this,n=document.createElement("canvas"),c=e.naturalWidth/e.width,r=e.naturalHeight/e.height;n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*c,t.y*r,t.width*c,t.height*r,0,0,t.width,t.height);var l=new FileReader;n.toBlob(function(e){l.readAsDataURL(e),l.onloadend=function(){a.dataURLtoFile(l.result,"cropped.jpg")}})}},{key:"dataURLtoFile",value:function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?)/)[1],c=atob(a[1]),r=c.length,l=new Uint8Array(r);r--;)l[r]=c.charCodeAt(r);var o=new File([l],t,{type:n});this.setState({croppedImage:o})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.image,a=e.initialAspectRatio;this.setState({src:t,originalImageSize:a})}},{key:"componentDidUpdate",value:function(e,t){if(t.croppedImage!==this.state.croppedImage&&this.props.setCroppedImageResult(this.state.croppedImage),t.zoomScale!==this.state.zoomScale){var a=1+2/99*(this.state.zoomScale-1);document.querySelector(".cropImage__wrapper .ReactCrop__image").style.transform="scale(".concat(a,")")}}},{key:"render",value:function(){var e=this,t=this.state,a=t.crop,n=t.src,r=t.originalImageSize;return c.a.createElement("div",{className:"cropImage__wrapper"},c.a.createElement("div",{className:"cropImage__imageSelection"},n&&c.a.createElement(ee.a,{src:n,crop:a,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange,style:{width:"100vh"}}),n&&c.a.createElement("div",{className:"cropImage__changeAspectRatio-actions"},c.a.createElement("div",{className:"cropImage__scaleButton"},c.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(r)},className:"".concat(a.aspect===r&&"blued")},c.a.createElement(fe.a,null)),c.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(16/9)},className:"".concat(a.aspect===16/9&&"blued")},c.a.createElement(ue.a,null)),c.a.createElement("div",{onClick:function(){return e.onChangeAspectRatio(1)},className:"".concat(1===a.aspect&&"blued")},c.a.createElement(de.a,null))),c.a.createElement("div",{className:"cropImage__slider"},c.a.createElement(ie,{val:this.state.zoomScale,setVal:this.onChangeZoomScale})))))}}]),t}(n.PureComponent),Ee=(a(220),function(e){var t=e.image,a=e.altText,n=e.setAltText;return c.a.createElement("div",{className:"alt__wrapper"},c.a.createElement("div",{className:"alt__imageContainer"},c.a.createElement("img",{src:URL.createObjectURL(t),alt:"addALt"})),c.a.createElement("div",{className:"alt__addDescription"},c.a.createElement("h2",null,"Description"),c.a.createElement("textarea",{name:"",id:"",cols:"30",rows:"3",value:a,onChange:function(e){return n(e.target.value)}})))}),Oe=a(51),je=a.n(Oe),he=a(64),ve=a.n(he),ge=a(55),we=a.n(ge),Ne=a(65),_e=a.n(Ne),xe=a(66),ye=a.n(xe),ke=a(54),Se=a.n(ke),Ce=a(35),Ie=a.n(Ce),Re=a(53),Ae=a.n(Re),Te=(a(78),function(e){var t=e.split(", "),a=Object(o.a)(t,2),n=a[0],c=a[1],r=n.split("/"),l=Object(o.a)(r,3),i=l[0],s=l[1],u=l[2],m=c.split(":"),d=Object(o.a)(m,3),p=[u,i,s,d[0],d[1],d[2]].map(function(e){return parseInt(e)}),f=Object(o.a)(p,6),b=f[0],E=f[1],O=f[2],j=f[3],h=f[4],v=f[5],g=new Date,w=parseInt(g.getFullYear()),N=parseInt(g.getMonth()+1),_=parseInt(g.getDate()),x=parseInt(g.getHours()),y=parseInt(g.getMinutes()),k=parseInt(g.getSeconds()),S=function(e){return e%4===0&&e%100!==0||e%400===0},C=function(e,t,a,n,c,r){var l=0;if(t<2){for(var o=1;o<a;o++)l+=1;return 86400*l+3600*n+60*c+r}for(var i=0,s=1;s<t;s++)i+=4===s||6===s||9===s||11===s?30:2===s?S(e)?29:28:31;return 86400*(i+a-1)+3600*n+60*c+r},I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return function(e,t,a,n,c){return e<60?"".concat(e," s"):e>59&&e<3600?"".concat(Math.trunc(e/60),"m"):e>3599&&e<86400?"".concat(Math.trunc(e/3600),"h "):e>86399&&e<604800?"".concat(Math.trunc(e/86400),"d"):e>604799?t===a?"".concat(c," ").concat(I[n-1]):"".concat(c," ").concat(I[n-1]," ").concat(a):void 0}(function(e,t,a,n,c,r,l,o,i,s,u,m){var d=C(e,t,a,n,c,r),p=C(l,o,i,s,u,m),f=0;if(l===e||l===e+1)f=0;else for(var b=e+1;b<l;b++)S(b)&&(f+=366),f+=365;var E=S(e)?31622400-d:31536e3-d;return l!==e?E+86400*f+p:p-d}(b,E,O,j,h,v,w,N,_,x,y,k),w,b,E,O)}),Be=function(e){return new Promise(function(t,a){var n=new Image;n.onload=function(){var e=n.naturalWidth,a=n.naturalHeight;t({width:e,height:a})},n.onerror=function(){a("There was some problem with the image.")},n.src=URL.createObjectURL(e)})},Le=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files,n=Object(o.a)(a,1),c=n[0],e.prev=2,e.next=5,Be(c);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t){return e.apply(this,arguments)}}(),Ue=function(e){return new Promise(function(t,a){var n;console.log(e);var c=new FormData;c.append("file",e),c.append("upload_preset","seorpr1o"),c.append("cloud_name","dqtyfgbga"),fetch("https://api.cloudinary.com/v1_1/dqtyfgbga/image/upload",{method:"post",body:c}).then(function(e){return e.json()}).then(function(e){return n=e.url,console.log(n),t(n)}).catch(function(e){return a(e)})})},Pe=function(e,t){var a=new Date;return"A photo shared by ".concat(e," on ").concat(a.getMonth()+1," ").concat(a.getDate(),", ").concat(a.getFullYear())},De=function(e){return e&&new Date(e.toDate()).toLocaleString([],{hour12:!1})},Me={user:null},ze="SET_USER",Fe=function(e,t){switch(t.type){case ze:return Object(V.a)({},e,{user:t.user});default:return e}},qe=Object(n.createContext)(),We=function(){return Object(n.useContext)(qe)},He=function(e){var t=e.children;return c.a.createElement(qe.Provider,{value:Object(n.useReducer)(Fe,Me)},t)},Je=(a(221),function(e){var t=e.ownProfile,a=We(),r=Object(o.a)(a,1)[0].user,l=Object(n.useState)(),i=Object(o.a)(l,2),s=(i[0],i[1],Object(n.useState)(null)),m=Object(o.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(!1),E=Object(o.a)(f,2),O=E[0],j=E[1],g=Boolean(d),I=g?"post-popover":void 0,B=Object(n.useState)(null),L=Object(o.a)(B,2),U=L[0],P=L[1],D=Object(n.useState)(null),M=Object(o.a)(D,2),z=M[0],F=M[1],q=Object(n.useState)({width:0,height:0}),W=Object(o.a)(q,2),H=W[0],J=W[1],V=Object(n.useState)(null),Y=Object(o.a)(V,2),$=Y[0],X=Y[1],G=Object(n.useState)(null),K=Object(o.a)(G,2),Q=K[0],ee=K[1],te=Object(n.useState)(!1),ae=Object(o.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(""),le=Object(o.a)(re,2),oe=le[0],ie=le[1],se=Object(n.useState)(Pe(t.displayName)),ue=Object(o.a)(se,2),me=ue[0],de=ue[1];Object(n.useEffect)(function(){X(H.width/H.height)},[H]);var pe=[{id:0,title:"",icon:c.a.createElement(Ae.a,null),item:c.a.createElement(be,{image:U,setCroppedImageResult:ee,initialAspectRatio:$})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ee,{image:Q,altText:me,setAltText:de})}],fe=function(){var e=Object(N.a)(w.a.mark(function e(t){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),j(!0),""===oe?z?(Ue(z).then(function(e){Object(u.b)(Object(u.e)(b,"posts"),{retweets:0,comments:0,likes:0,retweeter:"",itretweet:!1,retphotourl:"",senderId:r.id,createdAt:new Date,image:e,altText:me})}),de(""),F(null),ce(!1),P(null),j(!1)):(window.alert("post is empty can't post"),de(""),F(null),ce(!1),P(null),j(!1)):z?(Ue(z).then(function(e){Object(u.b)(Object(u.e)(b,"posts"),{retweets:0,comments:0,likes:0,retweeter:"",itretweet:!1,retphotourl:"",senderId:r.id,createdAt:new Date,image:e,altText:me,text:oe})}),ie(""),de(""),F(null),ce(!1),P(null),j(!1)):(Object(u.b)(Object(u.e)(b,"posts"),{retweets:0,comments:0,likes:0,retweeter:"",itretweet:!1,retphotourl:"",senderId:r.id,createdAt:new Date,text:oe}),ie(""),de(""),F(null),ce(!1),P(null),j(!1));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:ne,onClose:function(){return ce(!1)},title:"Edit Photo",callback:function(){P(URL.createObjectURL(Q)),F(Q),0===me.length&&de(Pe(t.displayName))},Icon:Ie.a,ButtonText:"Save"},c.a.createElement(Z,{items:pe})),c.a.createElement("div",{className:"reply"},c.a.createElement(x.a,null,c.a.createElement(y.a,null,c.a.createElement(k.a,null,c.a.createElement(_.a,{src:t.photoURL})),c.a.createElement(S.a,null,c.a.createElement("form",{onSubmit:fe},c.a.createElement("div",{className:"noctuaBox__input upped"},c.a.createElement("textarea",{rows:"1",placeholder:"What's happening",type:"text",value:oe,onChange:function(e){return ie(e.target.value)}})),U&&c.a.createElement("div",{className:"noctuaBox__input-image"},c.a.createElement(je.a,{className:"cancelIcon",onClick:function(){return P(null)}}),c.a.createElement("img",{src:U,alt:"new test"}),c.a.createElement(h.a,{className:"editImage",onClick:function(){return ce(!0)}},"Edit")),c.a.createElement(y.a,null),c.a.createElement("div",{className:"noctuaBox__input-actions"},c.a.createElement("div",{className:"noctuaBox__input-icons"},c.a.createElement(T,{Icon:ve.a,type:"file",accept:"image/*",name:"image-upload",id:"image",onChange:function(e){var t=new FileReader;t.onloadend=function(){P(t.result),F(t.result)},t.readAsDataURL(e.target.files[0]),Le(e).then(function(e){J({width:e.width,height:e.height})})}}),c.a.createElement(T,{Icon:Se.a}),c.a.createElement(T,{Icon:_e.a}),c.a.createElement(T,{Icon:we.a,"aria-describedby":I,type:"button",onClick:function(e){return p(e.currentTarget)}}),c.a.createElement(C.a,{id:I,open:g,anchorEl:d,onClose:function(){return p(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{borderRadius:"2rem"}},c.a.createElement(R.a,{onEmojiClick:function(e,t){var a=oe+t.emoji;ie(a)}})),c.a.createElement(T,{Icon:ye.a})),O?c.a.createElement(h.a,{className:"noctuaBox__noctuaButton"},c.a.createElement(A,null)):c.a.createElement(h.a,{type:"submit",className:"noctuaBox__noctuaButton",onClick:fe},"Noctua"))))))))}),Ze=(a(222),function(e){e.active;var t=e.text,a=e.Icon,n=e.onClick,r=We(),l=Object(o.a)(r,1)[0].user,s="Home"===t,u=s?"":"Profile"===t?"".concat(t.toLowerCase(),"/").concat(l.username):t.toLowerCase();return c.a.createElement(i.c,{to:"/".concat(u),exact:s,className:"barOption",activeClassName:"bar__active",onClick:n},c.a.createElement(a,null),c.a.createElement("h2",null,t))}),Ve=a(162),Ye=a.n(Ve),$e=a(161),Xe=a.n($e),Ge=(a(224),function(){var e=Object(s.useHistory)(),t=We(),a=Object(o.a)(t,1)[0].user,r=Object(n.useState)(a),l=Object(o.a)(r,2),i=l[0],m=l[1],d=Object(n.useState)(null),p=Object(o.a)(d,2),f=p[0],E=p[1],O=Boolean(f),j=O?"post-popover":void 0;return Object(n.useEffect)(function(){Object(u.m)(Object(u.g)(b,"users",a.id),function(e){m(e.data())})},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{id:j,open:O,anchorEl:f,onClose:function(){return E(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{transform:"translate(2rem, -1rem)"}},c.a.createElement("ul",{className:"post__expandList"},c.a.createElement("div",{className:"user__item nocursor"},c.a.createElement(_.a,{src:i&&i.photoURL}),c.a.createElement("div",{className:"user__details"},c.a.createElement("h2",null,i&&i.displayName),c.a.createElement("span",null,"@".concat(i&&i.username))),c.a.createElement(Xe.a,null)),c.a.createElement("li",{onClick:function(){localStorage.clear(),e.push("/"),window.location.reload()},className:"logoutBtn"},c.a.createElement("h3",null,"Log out @",i&&i.username)))),c.a.createElement("div",{className:"barAccount__wrapper","aria-describedby":j,variant:"contained",onClick:function(e){return E(e.currentTarget)}},c.a.createElement("div",{className:"barAccount__ava"},c.a.createElement(_.a,{src:i&&i.photoURL})),c.a.createElement("div",{className:"barAccount__userData"},c.a.createElement("h2",null,i&&i.displayName),c.a.createElement("h2",null,i&&"@".concat(i.username))),c.a.createElement("div",{className:"barAccount__expandIcon"},c.a.createElement(Ye.a,null))))}),Ke=a(106),Qe=a.n(Ke),et=a(84),tt=a.n(et),at=a(107),nt=a.n(at),ct=a(85),rt=a.n(ct);function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ot(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var it=c.a.createElement("g",{transform:"translate(0.000000,256.000000) scale(0.100000,-0.100000)",fill:"#5e00bd",stroke:"none"},c.a.createElement("path",{d:"M710 1811 c0 -16 62 -82 84 -91 17 -6 20 -17 23 -71 1 -36 6 -76 12 -89 l10 -25 0 27 c2 62 48 129 108 154 70 30 171 10 212 -42 l18 -23 23 24 c65 69 191 75 258 12 31 -29 62 -89 63 -124 l1 -28 8 25 c4 14 8 53 9 87 1 59 3 63 30 78 28 14 81 73 81 89 0 3 -14 -1 -32 -10 -21 -11 -76 -20 -157 -26 -154 -10 -206 -22 -249 -55 -30 -22 -35 -23 -50 -10 -44 38 -88 50 -237 62 -99 8 -163 18 -183 29 -18 9 -32 12 -32 7z"}),c.a.createElement("path",{d:"M950 1682 c-22 -12 -45 -36 -60 -65 -22 -41 -23 -50 -14 -96 10 -49 9 -54 -17 -89 -117 -159 -76 -411 85 -524 30 -22 30 -22 -7 22 -21 25 -53 74 -70 110 -30 62 -32 71 -32 180 0 109 1 118 30 167 32 57 47 63 78 36 14 -13 36 -18 77 -18 68 0 104 21 135 78 21 38 35 47 35 23 0 -21 47 -74 81 -91 39 -21 98 -19 137 5 18 11 38 20 46 20 7 0 26 -24 42 -52 27 -50 29 -60 29 -163 0 -104 -2 -114 -33 -179 -18 -39 -49 -90 -70 -115 l-37 -46 37 28 c47 37 83 83 116 155 51 107 30 284 -44 371 -23 27 -24 32 -12 74 10 38 9 52 -6 91 -25 66 -65 91 -144 91 -61 0 -65 -1 -101 -41 -21 -22 -41 -47 -45 -55 -5 -11 -7 -11 -12 -1 -12 27 -57 73 -85 87 -38 20 -97 19 -139 -3z m128 -6 c122 -64 100 -235 -34 -260 -46 -9 -119 25 -139 65 -22 42 -19 115 6 151 38 52 113 72 167 44z m318 -2 c46 -22 74 -70 74 -127 0 -37 -6 -53 -31 -82 -60 -68 -148 -68 -209 1 -24 28 -30 44 -30 81 0 108 100 172 196 127z"}),c.a.createElement("path",{d:"M986 1594 c-22 -21 -20 -41 4 -47 11 -3 24 -17 30 -31 10 -28 34 -26 50 5 32 59 -38 120 -84 73z"}),c.a.createElement("path",{d:"M1297 1592 c-22 -25 -21 -39 3 -45 11 -3 24 -17 30 -32 10 -26 12 -26 33 -12 12 8 23 27 25 42 7 54 -56 86 -91 47z"}),c.a.createElement("path",{d:"M1154 1423 l-21 -28 23 -49 22 -49 21 41 c12 23 21 47 21 54 -1 12 -34 58 -42 58 -2 0 -13 -12 -24 -27z"}),c.a.createElement("path",{d:"M1057 874 c-10 -11 -8 -52 2 -59 6 -3 14 3 20 12 10 17 10 17 11 1 0 -10 5 -18 10 -18 6 0 10 16 10 36 0 29 -3 34 -13 25 -9 -7 -17 -7 -23 -1 -6 6 -13 7 -17 4z"}),c.a.createElement("path",{d:"M1137 873 c-11 -10 -8 -63 3 -63 6 0 10 16 10 35 0 36 -2 40 -13 28z"}),c.a.createElement("path",{d:"M1217 874 c-4 -4 -7 -20 -7 -36 0 -35 23 -34 28 1 4 25 -10 46 -21 35z"}),c.a.createElement("path",{d:"M1257 873 c-11 -10 -8 -63 3 -63 6 0 10 16 10 35 0 36 -2 40 -13 28z"}),c.a.createElement("path",{d:"M1297 873 c-11 -10 -8 -63 3 -63 6 0 10 16 10 35 0 36 -2 40 -13 28z"})),st=function(e){var t=e.svgRef,a=ot(e,["svgRef"]);return c.a.createElement("svg",lt({width:"120.000000pt",height:"100.000000pt",viewBox:"0 0 238.000000 256.000000",preserveAspectRatio:"xMidYMid meet",ref:t},a),it)},ut=c.a.forwardRef(function(e,t){return c.a.createElement(st,lt({svgRef:t},e))}),mt=(a.p,a(108)),dt=a.n(mt),pt=a(293),ft=a(34),bt=a.n(ft),Et=(a(225),function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(n.useState)()),l=Object(o.a)(r,2),i=l[0],s=l[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(null),O=Object(o.a)(E,2),j=O[0],h=O[1],g=We(),w=Object(o.a)(g,1)[0].user;Object(n.useEffect)(function(){return Object(u.m)(Object(u.g)(b,"users",w.id),function(e){h(e.data()),s(e.data().notifications)})},[b,w.id]),console.log(j),console.log(a);return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:p,onClose:function(){return f(!1)},title:"",callback:function(){},Icon:bt.a,ButtonText:""},c.a.createElement(Je,{ownProfile:j})),c.a.createElement("div",{className:"barleft"},c.a.createElement(ut,{className:"barleft__noctuaIcon"}),c.a.createElement(Ze,{text:"Home",Icon:Qe.a}),c.a.createElement(Ze,{text:"Explore",Icon:tt.a}),c.a.createElement(pt.a,{color:"secondary",badgeContent:i,anchorOrigin:{vertical:"left",horizontal:"buttom"},overlap:"circular"},c.a.createElement(Ze,{text:"Notifications",Icon:nt.a,onClick:function(){Object(u.q)(Object(u.g)(b,"users",w.id),{notifications:0})}})),c.a.createElement(Ze,{text:"Messages",Icon:rt.a}),c.a.createElement(Ze,{text:"Profile",Icon:dt.a}),c.a.createElement("button",{variant:"outlined",className:"barleft__noctua",onClick:function(){return f(!0)}},c.a.createElement("div",{dir:"auto",className:"css-901oao r-1awozwy r-jwli3a r-6koalj r-18u37iz r-16y2uox r-1qd0xha r-a023e6 r-vw2c0b r-1777fci r-eljoum r-dnmrzs r-bcqeeo r-q4m81j r-qvutc0"},c.a.createElement("svg",{viewBox:"0 0 24 24",fill:"#ffffff",className:"r-jwli3a r-4qtqp9 r-yyyyoo r-1q142lx r-50lct3 r-dnmrzs r-bnwqim r-1plcrui r-lrvibr r-1srniue"},c.a.createElement("g",null,c.a.createElement("path",{d:"M8.8 7.2H5.6V3.9c0-.4-.3-.8-.8-.8s-.7.4-.7.8v3.3H.8c-.4 0-.8.3-.8.8s.3.8.8.8h3.3v3.3c0 .4.3.8.8.8s.8-.3.8-.8V8.7H9c.4 0 .8-.3.8-.8s-.5-.7-1-.7zm15-4.9v-.1h-.1c-.1 0-9.2 1.2-14.4 11.7-3.8 7.6-3.6 9.9-3.3 9.9.3.1 3.4-6.5 6.7-9.2 5.2-1.1 6.6-3.6 6.6-3.6s-1.5.2-2.1.2c-.8 0-1.4-.2-1.7-.3 1.3-1.2 2.4-1.5 3.5-1.7.9-.2 1.8-.4 3-1.2 2.2-1.6 1.9-5.5 1.8-5.7z"}))),c.a.createElement("span",{className:"css-901oao css-16my406 css-bfa6kz r-1qd0xha r-ad9z0x r-bcqeeo r-qvutc0"})),c.a.createElement("span",null,"Noctua")),c.a.createElement(Ge,null)))}),Ot=(a(226),function(){var e=We(),t=Object(o.a)(e,1)[0].user,a=t.displayName,r=Object(n.useState)(null),l=Object(o.a)(r,2),i=l[0],s=l[1],m=Object(n.useState)(""),d=Object(o.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(Pe(t.displayName)),O=Object(o.a)(E,2),j=O[0],g=O[1],x=Object(n.useState)(null),y=Object(o.a)(x,2),k=y[0],S=y[1],I=Object(n.useState)(null),B=Object(o.a)(I,2),L=B[0],U=B[1],P=Object(n.useState)(!1),D=Object(o.a)(P,2),M=D[0],z=D[1],F=Object(n.useState)({width:0,height:0}),q=Object(o.a)(F,2),W=q[0],H=q[1],J=Object(n.useState)(null),V=Object(o.a)(J,2),Y=V[0],$=V[1],X=Object(n.useState)(null),G=Object(o.a)(X,2),K=G[0],Q=G[1],ee=Object(n.useState)(null),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(!1),re=Object(o.a)(ce,2),le=re[0],oe=re[1];Object(n.useEffect)(function(){Object(u.m)(Object(u.g)(b,"users",t.id),function(e){s(e.data())})},[]),console.log(i);Object(n.useEffect)(function(){$(W.width/W.height)},[W]);var ie=[{id:0,title:"",icon:c.a.createElement(Ae.a,null),item:c.a.createElement(be,{image:k,setCroppedImageResult:Q,initialAspectRatio:Y})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ee,{image:K,altText:j,setAltText:g})}],se=Boolean(ae),ue=se?"post-popover":void 0;Object(n.useEffect)(function(){document.querySelector("textarea").addEventListener("keydown",function(){var e=this;setTimeout(function(){e.style.cssText="height:auto padding:0",e.style.cssText="height:"+e.scrollHeight+"px"},0)})},[]);var me=function(){var e=Object(N.a)(w.a.mark(function e(a){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),oe(!0),""===p?L?(Ue(L).then(function(e){Object(u.b)(Object(u.e)(b,"posts"),{retweets:0,comments:0,likes:0,retweeter:"",itretweet:!1,retphotourl:"",senderId:t.id,createdAt:new Date,image:e,altText:j})}),g(""),U(null),S(null),oe(!1)):(window.alert("post is empty can't post"),g(""),U(null),S(null),oe(!1)):L?(Ue(L).then(function(e){Object(u.b)(Object(u.e)(b,"posts"),{retweets:0,comments:0,likes:0,retweeter:"",itretweet:!1,retphotourl:"",senderId:t.id,createdAt:new Date,image:e,altText:j,text:p})}),f(""),g(""),U(null),S(null),oe(!1)):(Object(u.b)(Object(u.e)(b,"posts"),{retweets:0,comments:0,likes:0,retweeter:"",itretweet:!1,retphotourl:"",senderId:t.id,createdAt:new Date,text:p}),f(""),g(""),U(null),S(null),oe(!1));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:M,onClose:function(){return z(!1)},title:"Edit Photo",callback:function(){S(URL.createObjectURL(K)),U(K),0===j.length&&g(Pe(a))},Icon:Ie.a,ButtonText:"Save"},c.a.createElement(Z,{items:ie})),c.a.createElement("div",{className:"noctuaBox"},c.a.createElement("form",{onSubmit:me},c.a.createElement("div",{className:"noctuaBox__wrapperInput"},c.a.createElement("div",{className:"noctuaBox__ava"},c.a.createElement(_.a,{src:i&&i.photoURL})),c.a.createElement("div",{className:"noctuaBox__input"},c.a.createElement("textarea",{rows:"1",placeholder:"What's happening",type:"text",value:p,onChange:function(e){return f(e.target.value)}}),k&&c.a.createElement("div",{className:"noctuaBox__input-image"},c.a.createElement(je.a,{className:"cancelIcon",onClick:function(){return S(null)}}),c.a.createElement("img",{src:k,alt:"new test"}),c.a.createElement(h.a,{className:"editImage",onClick:function(){return z(!0)}},"Edit")),c.a.createElement("div",{className:"noctuaBox__input-actions"},c.a.createElement("div",{className:"noctuaBox__input-icons"},c.a.createElement(T,{Icon:ve.a,type:"file",accept:"image/*",name:"image-upload",id:"input-image",onChange:function(e){var t=new FileReader;t.onloadend=function(){S(t.result),U(t.result)},t.readAsDataURL(e.target.files[0]),Le(e).then(function(e){H({width:e.width,height:e.height})})}}),c.a.createElement(T,{Icon:Se.a}),c.a.createElement(T,{Icon:_e.a}),c.a.createElement(T,{Icon:we.a,"aria-describedby":ue,type:"button",onClick:function(e){return ne(e.currentTarget)}}),c.a.createElement(C.a,{id:ue,open:se,anchorEl:ae,onClose:function(){return ne(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},style:{borderRadius:"2rem"}},c.a.createElement(R.a,{onEmojiClick:function(e,t){var a=p+t.emoji;f(a)}})),c.a.createElement(T,{Icon:ye.a})),le?c.a.createElement(h.a,{className:"noctuaBox__noctuaButton"},c.a.createElement(A,null)):c.a.createElement(h.a,{type:"submit",className:"noctuaBox__noctuaButton",onClick:me},"Noctua")))))))}),jt=a(86),ht=a(36),vt=a.n(ht),gt=(a(227),function(e){var t=e.props,a=e.profile,r=e.ownProfile,l=a.displayName,i=a.username,s=a.photoURL,m=a.verified,d=t.timestamp,p=t.text,f=t.image,E=t.altText,O=t.postId,j=t.senderId,g=t.retweettext,I=t.retweeterId,B=De(d),L=We(),U=Object(o.a)(L,1)[0].user,P=Object(n.useState)(),D=Object(o.a)(P,2),M=(D[0],D[1]),z=Object(n.useState)({}),F=Object(o.a)(z,2),q=F[0],W=F[1];console.log(I),console.log(g);var H=Object(n.useState)(null),J=Object(o.a)(H,2),V=J[0],Y=J[1],$=Object(n.useState)(!1),X=Object(o.a)($,2),G=X[0],K=X[1],Q=Boolean(V),ee=Q?"post-popover":void 0,te=Object(n.useState)(""),ae=Object(o.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(null),le=Object(o.a)(re,2),oe=le[0],ie=le[1],se=Object(n.useState)(null),ue=Object(o.a)(se,2),me=(ue[0],ue[1]),de=Object(n.useState)({width:0,height:0}),pe=Object(o.a)(de,2),fe=pe[0],Oe=(pe[1],Object(n.useState)(null)),he=Object(o.a)(Oe,2),ge=he[0],Ne=he[1],xe=Object(n.useState)(null),ke=Object(o.a)(xe,2),Ce=ke[0],Re=ke[1],Be=Object(n.useState)(!1),Le=Object(o.a)(Be,2),Ue=Le[0],Me=Le[1],ze=Object(n.useState)(Pe(r.displayName)),Fe=Object(o.a)(ze,2),qe=Fe[0],He=Fe[1];Object(n.useEffect)(function(){Ne(fe.width/fe.height)},[fe]);var Je=[{id:0,title:"",icon:c.a.createElement(Ae.a,null),item:c.a.createElement(be,{image:oe,setCroppedImageResult:Re,initialAspectRatio:ge})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ee,{image:Ce,altText:qe,setCommentAltText:He})}];Object(n.useEffect)(function(){return Object(u.m)(Object(u.g)(b,"posts",O),function(e){M(e.data())})},[b]),Object(n.useEffect)(function(){I&&(Object(u.m)(Object(u.g)(b,"users",U.id),function(e){W(e.data())}),console.log(I),console.log(q))},[]),console.log(j),console.log(f);var Ze=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),K(!0),a=Object(u.g)(b,"posts",O),f&&p?Object(u.b)(Object(u.e)(b,"posts"),{retweeterId:r.id,senderId:j,image:f,text:p,retweettext:ne,likes:0,comments:0,itretweet:!0,createdAt:new Date}):f?Object(u.b)(Object(u.e)(b,"posts"),{retweeterId:r.id,senderId:j,image:f,retweettext:ne,likes:0,comments:0,itretweet:!0,createdAt:new Date}):Object(u.b)(Object(u.e)(b,"posts"),{retweeterId:r.id,senderId:j,text:p,retweettext:ne,likes:0,comments:0,itretweet:!0,createdAt:new Date}),n=Object(u.e)(b,"notifications"),e.next=7,Object(u.h)(a).then(function(e){var t=e.data(),a=t.itretweet,c=t.retweeterId;Object(u.h)(Object(u.g)(b,"users",r.id)).then(function(e){console.log(e.data());var t=e.data().displayName,r=e.data().photoURL;console.log(t),a?Object(u.b)(n,{itretweet:a,sender:t,photoURL:r,text:t+" has retweeted your post",user:j,retweeter:c,postId:O,createdAt:new Date}):Object(u.b)(n,{itretweet:a,sender:t,photoURL:r,text:t+" has retweeted your post",user:j,postId:O,createdAt:new Date})})});case 7:return Object(u.q)(Object(u.g)(b,"users",j),{notifications:Object(u.k)(1)}),e.next=10,Object(u.q)(a,{retweets:Object(u.k)(1)});case 10:Me(!1),K(!1);case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:Ue,onClose:function(){return Me(!1)},title:"Edit Photo",callback:function(){ie(URL.createObjectURL(Ce)),me(Ce),0===qe.length&&He(Pe(l))},Icon:Ie.a,ButtonText:"Save"},c.a.createElement(Z,{items:Je})),c.a.createElement("div",{className:"reply"},c.a.createElement(x.a,null,c.a.createElement(y.a,null,c.a.createElement(k.a,null,I?c.a.createElement(_.a,{src:q.photoURL}):c.a.createElement(_.a,{src:r.photoURL})),c.a.createElement(S.a,null,c.a.createElement("form",{onSubmit:Ze},c.a.createElement("div",{className:"noctuaBox__input upped"},c.a.createElement("textarea",{rows:"1",placeholder:"add your comment ",type:"text",value:ne,onChange:function(e){return ce(e.target.value)}})),oe&&c.a.createElement("div",{className:"noctuaBox__input-image"},c.a.createElement(je.a,{className:"cancelIcon",onClick:function(){return ie(null)}}),c.a.createElement("img",{src:oe,alt:"new test"}),c.a.createElement(h.a,{className:"editImage",onClick:function(){return Me(!0)}},"Edit")),c.a.createElement(y.a,null,c.a.createElement(k.a,null,c.a.createElement(_.a,{src:s})),c.a.createElement(S.a,null,c.a.createElement("div",{className:"post__body upped"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,l," "," ",c.a.createElement("span",{className:"post__headerSpecial"},m&&c.a.createElement(vt.a,{className:"post__badge"}),"@".concat(i," . ").concat(d&&Te(B))))),c.a.createElement("div",{className:"post__headerDescription"}," ",c.a.createElement("p",null," ",p," "))),f&&c.a.createElement("img",{src:f,alt:E})))),c.a.createElement("div",{className:"noctuaBox__input-actions"},c.a.createElement("div",{className:"noctuaBox__input-icons"},c.a.createElement(T,{Icon:ve.a}),c.a.createElement(T,{Icon:Se.a}),c.a.createElement(T,{Icon:_e.a}),c.a.createElement(T,{Icon:we.a,"aria-describedby":ee,type:"button",onClick:function(e){return Y(e.currentTarget)}}),c.a.createElement(C.a,{id:ee,open:Q,anchorEl:V,onClose:function(){return Y(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{borderRadius:"2rem"}},c.a.createElement(R.a,{onEmojiClick:function(e,t){var a=ne+t.emoji;ce(a)}})),c.a.createElement(T,{Icon:ye.a})),G?c.a.createElement(h.a,{className:"noctuaBox__noctuaButton"},c.a.createElement(A,null)):c.a.createElement(h.a,{type:"submit",className:"noctuaBox__noctuaButton",onClick:Ze},"Noctua"))))))))}),wt=a(48),Nt=a.n(wt),_t=(a(145),function(e){var t=e.Icon,a=e.value,n=e.onClick;return c.a.createElement("div",{className:"footerIcon_wrapper",onClick:n},c.a.createElement(t,null),c.a.createElement("div",{className:"footerIcon__counter"},a||""))}),xt=a(294),yt=(a(230),function(e){var t=e.props,a=e.profile,r=e.ownProfile,l=a.displayName,i=a.username,s=a.photoURL,m=a.verified,d=t.timestamp,p=t.text,f=t.image,E=t.altText,O=t.postId,j=t.senderId,g=De(d),I=Object(n.useState)(),B=Object(o.a)(I,2),L=(B[0],B[1]),U=Object(n.useState)(null),P=Object(o.a)(U,2),D=P[0],M=P[1],z=Object(n.useState)(!1),F=Object(o.a)(z,2),q=F[0],W=F[1],H=Boolean(D),J=H?"post-popover":void 0,V=Object(n.useState)(""),Y=Object(o.a)(V,2),$=Y[0],X=Y[1],G=Object(n.useState)(null),K=Object(o.a)(G,2),Q=K[0],ee=K[1],te=Object(n.useState)(null),ae=Object(o.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)({width:0,height:0}),le=Object(o.a)(re,2),oe=le[0],ie=le[1],se=Object(n.useState)(null),ue=Object(o.a)(se,2),me=ue[0],de=ue[1],pe=Object(n.useState)(null),fe=Object(o.a)(pe,2),Oe=fe[0],he=fe[1],ge=Object(n.useState)(!1),Ne=Object(o.a)(ge,2),xe=Ne[0],ke=Ne[1],Ce=Object(n.useState)(Pe(r.displayName)),Re=Object(o.a)(Ce,2),Be=Re[0],Me=Re[1];Object(n.useEffect)(function(){de(oe.width/oe.height)},[oe]);var ze=[{id:0,title:"",icon:c.a.createElement(Ae.a,null),item:c.a.createElement(be,{image:Q,setCroppedImageResult:he,initialAspectRatio:me})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ee,{image:Oe,altText:Be,setCommentAltText:Me})}];Object(n.useEffect)(function(){return Object(u.m)(Object(u.g)(b,"posts",O),function(e){L(e.data())})},[b]);var Fe=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),W(!0),""===$?ne?(Ue(ne).then(function(e){Object(u.b)(Object(u.e)(b,"posts",O,"comments"),{likes:[],senderId:r.id,post:O,createdAt:new Date,commentimage:e})}),Me(""),ee(null),ce(null),ke(!1),W(!1)):(window.alert("comment is empty can't post"),Me(""),ee(null),ke(!1),ce(null),W(!1)):ne?(Ue(ne).then(function(e){Object(u.b)(Object(u.e)(b,"posts",O,"comments"),{text:$,likes:[],senderId:r.id,post:O,createdAt:new Date,commentimage:e})}),X(""),Me(""),ee(null),ce(null),ke(!1),W(!1)):(Object(u.b)(Object(u.e)(b,"posts",O,"comments"),{text:$,likes:[],senderId:r.id,post:O,createdAt:new Date}),X(""),Me(""),ee(null),ce(null),ke(!1),W(!1)),a=Object(u.g)(b,"posts",O),n=Object(u.e)(b,"notifications"),e.next=7,Object(u.h)(a).then(function(e){var t=e.data(),a=t.itretweet,c=t.retweeterId;console.log(r.id),Object(u.h)(Object(u.g)(b,"users",r.id)).then(function(e){console.log(e.data());var t=e.data().displayName,r=e.data().photoURL;console.log(t),a?Object(u.b)(n,{itretweet:a,sender:t,photoURL:r,text:t+" has relpied to  your post",user:j,retweeter:c,postId:O,createdAt:new Date}):Object(u.b)(n,{itretweet:a,sender:t,photoURL:r,text:t+" has relpied to  your post",user:j,postId:O,createdAt:new Date})})});case 7:Object(u.q)(Object(u.g)(b,"users",j),{notifications:Object(u.k)(1)});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:xe,onClose:function(){return ke(!1)},title:"Edit Photo",callback:function(){ee(URL.createObjectURL(Oe)),ce(Oe),0===Be.length&&Me(Pe(l))},Icon:Ie.a,ButtonText:"Save"},c.a.createElement(Z,{items:ze})),c.a.createElement("div",{className:"reply"},c.a.createElement(x.a,null,c.a.createElement(y.a,null,c.a.createElement(k.a,null,c.a.createElement(_.a,{src:s}),c.a.createElement(xt.a,null)),c.a.createElement(S.a,null,c.a.createElement("div",{className:"post__body upped"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,l," "," ",c.a.createElement("span",{className:"post__headerSpecial"},m&&c.a.createElement(vt.a,{className:"post__badge"}),"@".concat(i," . ").concat(d&&Te(g))))),c.a.createElement("div",{className:"post__headerDescription"}," ",c.a.createElement("p",null," ",p," "))),f&&c.a.createElement("img",{src:f,alt:E}),c.a.createElement("span",{className:"replyingTo"},"Replying to ",c.a.createElement("p",null,"@".concat(i)))))),c.a.createElement(y.a,null,c.a.createElement(k.a,null,c.a.createElement(_.a,{src:r.photoURL})),c.a.createElement(S.a,null,c.a.createElement("form",{onSubmit:Fe},c.a.createElement("div",{className:"noctuaBox__input upped"},c.a.createElement("textarea",{rows:"1",placeholder:"noctua your reply",type:"text",value:$,onChange:function(e){return X(e.target.value)}})),Q&&c.a.createElement("div",{className:"noctuaBox__input-image"},c.a.createElement(je.a,{className:"cancelIcon",onClick:function(){return ee(null)}}),c.a.createElement("img",{src:Q,alt:"new test"}),c.a.createElement(h.a,{className:"editImage",onClick:function(){return ke(!0)}},"Edit")),c.a.createElement("div",{className:"noctuaBox__input-actions"},c.a.createElement("div",{className:"noctuaBox__input-icons"},c.a.createElement(T,{Icon:ve.a,type:"file",accept:"image/*",name:"comment-image-upload",id:"comment-image-upload",onChange:function(e){var t=new FileReader;t.onloadend=function(){ee(t.result),ce(t.result)},t.readAsDataURL(e.target.files[0]),Le(e).then(function(e){ie({width:e.width,height:e.height})})}}),c.a.createElement(T,{Icon:Se.a}),c.a.createElement(T,{Icon:_e.a}),c.a.createElement(T,{Icon:we.a,"aria-describedby":J,type:"button",onClick:function(e){return M(e.currentTarget)}}),c.a.createElement(C.a,{id:J,open:H,anchorEl:D,onClose:function(){return M(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{borderRadius:"2rem"}},c.a.createElement(R.a,{onEmojiClick:function(e,t){var a=$+t.emoji;X(a)}})),c.a.createElement(T,{Icon:ye.a})),q?c.a.createElement(h.a,{className:"noctuaBox__noctuaButton"},c.a.createElement(A,null)):c.a.createElement(h.a,{type:"submit",className:"noctuaBox__noctuaButton",onClick:Fe},"Reply"))))))))}),kt=a(110),St=a.n(kt),Ct=a(109),It=a.n(Ct),Rt=function(e){var t=e.likes,a=e.likeAction,r=e.unlikeAction,l=We(),i=Object(o.a)(l,1)[0].user,s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){i.id&&t&&(t.includes(i.id)?d(!0):d(!1))},[t]),c.a.createElement("div",{className:"footerIcon_wrapper"},m?c.a.createElement("span",{className:"liked",onClick:r},c.a.createElement(It.a,null)):c.a.createElement(St.a,{onClick:a}),c.a.createElement("div",{className:"footerIcon__counter"},t&&t.length>0&&t.length))},At=a(67),Tt=a.n(At),Bt=a(68),Lt=a.n(Bt),Ut=a(75),Pt=a.n(Ut),Dt=a(41),Mt=a.n(Dt),zt=a(61),Ft=a.n(zt),qt=a(163),Wt=a.n(qt),Ht=a(93),Jt=a.n(Ht),Zt=a(56),Vt=a.n(Zt),Yt=a(59),$t=a.n(Yt),Xt=a(114),Gt=a.n(Xt),Kt=a(113),Qt=a.n(Kt),ea=a(111),ta=a.n(ea),aa=a(112),na=a.n(aa),ca=(a(117),function(){var e=Object(N.a)(w.a.mark(function e(t,a){var n,c,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.g)(b,"users",t),c=Object(u.g)(b,"users",a),e.next=4,Object(u.q)(n,{following:Object(u.d)(a)});case 4:return e.next=6,Object(u.q)(c,{followers:Object(u.d)(t)});case 6:r=Object(u.e)(b,"notifications"),Object(u.h)(Object(u.g)(b,"users",t)).then(function(e){console.log(e.data());var t=e.data().displayName,n=e.data().username,c=e.data().photoURL;console.log(n),Object(u.b)(r,{sender:t,photoURL:c,text:t+" start to follow you ",username:n,user:a,createdAt:new Date})}),Object(u.q)(Object(u.g)(b,"users",a),{notifications:Object(u.k)(1)});case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()),ra=function(){var e=Object(N.a)(w.a.mark(function e(t,a){var n,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.g)(b,"users",t),c=Object(u.g)(b,"users",a),e.next=4,Object(u.q)(n,{following:Object(u.c)(a)});case 4:return e.next=6,Object(u.q)(c,{followers:Object(u.c)(t)});case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),la=function(){var e=Object(N.a)(w.a.mark(function e(t){var a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.g)(b,"posts",t),e.next=3,Object(u.f)(a);case 3:return e.next=5,Object(u.q)(a,{retweets:Object(u.k)(-1)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),oa=function(){var e=Object(N.a)(w.a.mark(function e(t,a,n){var c,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(u.g)(b,"posts",t),e.next=3,Object(u.q)(c,{likes:Object(u.d)(a)});case 3:return r=Object(u.e)(b,"notifications"),e.next=6,Object(u.h)(c).then(function(e){var c=e.data(),l=c.itretweet,o=c.retweeterId;Object(u.h)(Object(u.g)(b,"users",a)).then(function(e){console.log(e.data());var a=e.data().displayName,c=e.data().photoURL;console.log(a),l?Object(u.b)(r,{itretweet:l,sender:a,photoURL:c,text:a+" has liked your post",user:n,retweeter:o,postId:t,createdAt:new Date}):Object(u.b)(r,{itretweet:l,sender:a,photoURL:c,text:a+" has liked your post",user:n,postId:t,createdAt:new Date})});Object(u.q)(Object(u.g)(b,"users",n),{notifications:Object(u.k)(1)})});case 6:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ia=function(){var e=Object(N.a)(w.a.mark(function e(t,a){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.g)(b,"posts",t),e.next=3,Object(u.q)(n,{likes:Object(u.c)(a)});case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),sa=function(){var e=Object(N.a)(w.a.mark(function e(t,a,n){var c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(u.g)(b,"posts",a,"comments",t),e.next=3,Object(u.q)(c,{likes:Object(u.d)(n)});case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ua=function(){var e=Object(N.a)(w.a.mark(function e(t,a,n){var c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(u.g)(b,"posts",a,"comments",t),e.next=3,Object(u.q)(c,{likes:Object(u.c)(n)});case 3:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),ma=function(){var e=Object(N.a)(w.a.mark(function e(t,a){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=Object(u.g)(b,"posts",a,"comments",t),Object(u.g)(b,"posts",a),e.next=5,Object(u.f)(n);case 5:return e.next=7,Object(u.q)(n,{comments:Object(u.k)(-1)});case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),da=a(295),pa=a(296),fa=a(297),ba=a(298),Ea=a(299),Oa=Object(n.forwardRef)(function(e,t){var a=e.altText,r=e.text,l=e.image,i=e.createdAt,m=e.senderId,d=e.postId,p=(e.itretweet,e.retweets),f=e.likes,E=(De(i),Object(s.useHistory)()),O=Object(n.useState)(null),j=Object(o.a)(O,2),g=j[0],x=j[1],y=function(){return x(null)},k=Boolean(g),S=k?"post-popover":void 0,I=Object(n.useState)(!1),R=Object(o.a)(I,2),A=R[0],T=R[1],B=Object(n.useState)(!1),L=Object(o.a)(B,2),U=L[0],P=L[1],D=We(),M=Object(o.a)(D,1)[0].user,z=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),F=Object(o.a)(z,2),q=F[0],W=F[1],H=Object(n.useState)(null),J=Object(o.a)(H,2),Z=J[0],Y=J[1],$=q.displayName,X=q.username,G=q.photoURL,K=q.verified,Q=Object(n.useState)([]),ee=Object(o.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(o.a)(ne,2),re=ce[0],le=ce[1],oe=Object(n.useState)(""),ie=Object(o.a)(oe,2),se=ie[0],ue=ie[1],me=c.a.useState(!1),de=Object(o.a)(me,2),pe=de[0],fe=de[1],be=function(){fe(!1),y()},Ee=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.g)(b,"posts",t),n={text:se},e.next=4,Object(u.q)(a,n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){var e=Object(u.e)(b,"posts",d,"comments"),t=Object(u.o)(e,Object(u.n)("createdAt","desc"));return Object(u.m)(t,function(e){ae(e.docs.map(function(e){return Object(V.a)({},e.data(),{id:e.id})}))})},[b,d]),Object(n.useEffect)(function(){Object(u.m)(Object(u.g)(b,"users",M.id),function(e){Y(Object(V.a)({id:M.id},e.data()))}),Object(u.m)(Object(u.g)(b,"users",m),function(e){W(e.data())})},[]),Object(n.useEffect)(function(){q&&le(q.followers.includes(M.id))},[q]);var Oe=function(){};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:A,onClose:function(){return T(!1)},title:"",callback:Oe,Icon:bt.a,ButtonText:""},c.a.createElement(yt,{props:{altText:a,text:r,image:l,createdAt:i,senderId:m,postId:d,likes:f},profile:q,ownProfile:Z})),c.a.createElement(v,{open:U,onClose:function(){return P(!1)},title:"",callback:Oe,Icon:bt.a,ButtonText:""},c.a.createElement(gt,{props:{altText:a,text:r,image:l,createdAt:i,senderId:m,postId:d,likes:f},profile:q,ownProfile:Z})),c.a.createElement("div",{className:"post",ref:t},c.a.createElement("div",{className:"post__avatar"},c.a.createElement(_.a,{src:G})),c.a.createElement("div",{className:"post__body"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,$," "," ",c.a.createElement("span",{className:"post__headerSpecial"},K&&c.a.createElement(vt.a,{className:"post__badge"}),"@","".concat(X),""," ",c.a.createElement("small",null,c.a.createElement(Nt.a,{fromNow:!0},i.toDate())))),c.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":S,variant:"contained",onClick:function(e){return x(e.currentTarget)}},c.a.createElement(Mt.a,null)),c.a.createElement(C.a,{id:S,open:k,anchorEl:g,onClose:y,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},m===M.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{onClick:function(){return la(d)}},c.a.createElement("div",{className:"delete"},c.a.createElement(Ft.a,null)),c.a.createElement("h3",{className:"delete"},"Delete")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your profile")),c.a.createElement("li",{onClick:function(){fe(!0),y()}},c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"edit noctua")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Wt.a,null)),c.a.createElement("h3",null,"View noctua activity"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement($t.a,null)),c.a.createElement("h3",null,"Not interested in this noctua")),re?c.a.createElement("li",{onClick:function(){return ra(M.id,m)}},c.a.createElement("div",null,c.a.createElement(ta.a,null)),c.a.createElement("h3",null,"Unfollow ","@".concat(X))):c.a.createElement("li",{onClick:function(){return ca(M.id,m)}},c.a.createElement("div",null,c.a.createElement(na.a,null)),c.a.createElement("h3",null,"Follow ","@".concat(X))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Qt.a,null)),c.a.createElement("h3",null,"Add/remove from Lists")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Gt.a,null)),c.a.createElement("h3",null,"Block ","@".concat(X))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"Embed Noctua"))))),c.a.createElement("div",null,c.a.createElement(da.a,{open:pe,onClose:be},c.a.createElement(pa.a,null,"Edit Post"),c.a.createElement(fa.a,null,c.a.createElement(ba.a,{"aria-label":"minimum height",minRows:3,placeholder:"What's happing...",style:{width:200},onChange:function(e){return ue(e.target.value)}})),c.a.createElement(Ea.a,null,c.a.createElement(h.a,{onClick:be},"Cancel"),c.a.createElement(h.a,{onClick:function(){Ee(d),be()}},"Edit"))))),c.a.createElement("div",{className:"post__headerDescription",onClick:function(){return E.push("/post/".concat(d,"/").concat(m))}},c.a.createElement("p",null,r),c.a.createElement("img",{src:l,alt:a,onClick:""}))),c.a.createElement("div",{className:"post__footer"},c.a.createElement(_t,{Icon:Tt.a,onClick:function(){return T(!0)},value:te.length}),c.a.createElement(_t,{Icon:Lt.a,value:p,onClick:function(){return P(!0)}}),c.a.createElement(Rt,{likes:f,unlikeAction:function(){return ia(d,M.id)},likeAction:function(){return oa(d,M.id,m)}}),c.a.createElement(_t,{Icon:Pt.a,value:0})))))}),ja=a(69),ha=a.n(ja),va=a(119),ga=a.n(va),wa=(a(231),Object(n.forwardRef)(function(e,t){var a=e.altText,r=e.text,l=e.image,i=e.createdAt,m=e.senderId,d=e.postId,p=e.retweeterId,f=e.retweets,E=e.retweettext,O=(e.timestamp,e.likes);console.log(m),console.log(p);var j=Object(s.useHistory)(),g=Object(n.useState)(null),x=Object(o.a)(g,2),y=x[0],k=x[1],S=function(){return k(null)},I=Boolean(y),R=I?"post-popover":void 0,A=Object(n.useState)(!1),T=Object(o.a)(A,2),B=T[0],L=T[1],U=Object(n.useState)(!1),P=Object(o.a)(U,2),D=P[0],M=P[1],z=Object(n.useState)(!1),F=Object(o.a)(z,2),q=(F[0],F[1],Object(n.useState)([])),W=Object(o.a)(q,2),H=W[0],J=W[1],Z=We(),Y=Object(o.a)(Z,1)[0].user,$=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),X=Object(o.a)($,2),G=X[0],K=X[1],Q=Object(n.useState)({}),ee=Object(o.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),ce=Object(o.a)(ne,2),re=ce[0],le=(ce[1],Object(n.useState)("")),oe=Object(o.a)(le,2),ie=oe[0],se=oe[1],ue=c.a.useState(!1),me=Object(o.a)(ue,2),de=me[0],pe=me[1],fe=function(){pe(!1),S()},be=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.g)(b,"posts",t),n={retweettext:ie},e.next=4,Object(u.q)(a,n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){var e=Object(u.e)(b,"posts",d,"comments"),t=Object(u.o)(e,Object(u.n)("createdAt","desc"));return Object(u.m)(t,function(e){J(e.docs.map(function(e){return Object(V.a)({},e.data(),{id:e.id})}))})},[b,d]),Object(n.useEffect)(function(){Object(u.m)(Object(u.g)(b,"users",p),function(e){ae(Object(V.a)({id:Y.id},e.data()))}),console.log(te),Object(u.m)(Object(u.g)(b,"users",m),function(e){K(e.data())}),console.log(m)},[]);var Ee=function(){};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:B,onClose:function(){return L(!1)},title:"",callback:Ee,Icon:bt.a,ButtonText:""},c.a.createElement(yt,{props:{altText:a,text:r,image:l,createdAt:i,senderId:m,postId:d,likes:O},profile:G,ownProfile:te})),c.a.createElement(v,{open:D,onClose:function(){return M(!1)},title:"",callback:Ee,Icon:bt.a,ButtonText:""},c.a.createElement(gt,{props:{altText:a,text:r,image:l,createdAt:i,senderId:m,postId:d,retweettext:E,retweeterId:p,likes:O},profile:G,ownProfile:te})),c.a.createElement("div",{className:"retweet-section",ref:t},c.a.createElement("div",{className:"retweet"},c.a.createElement("div",{className:"retweet__avatar"},c.a.createElement(_.a,{src:te.photoURL})),c.a.createElement("div",{className:"retweet__body"},c.a.createElement("div",{className:"retweet__header"},c.a.createElement("div",{className:"retweet__HeaderText"},c.a.createElement("h3",null,te.displayName," ",c.a.createElement("span",{className:"retweet__headerSpacial"},te.verified&&c.a.createElement(vt.a,{className:"retweet__badge"}),"@","".concat(te.username)),c.a.createElement("small",{className:"retweet__headerDescription-moment"},c.a.createElement(Nt.a,{fromNow:!0},i.toDate())),c.a.createElement("div",{className:"retweet__headerDescription"},c.a.createElement("p",null,E))),c.a.createElement("div",{className:"retweet__headerExpandIcon","aria-describedby":R,variant:"contained",onClick:function(e){return k(e.currentTarget)}},c.a.createElement(Mt.a,null)),c.a.createElement(C.a,{id:R,open:I,anchorEl:y,onClose:S,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},p===Y.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{onClick:function(){return la(d)}},c.a.createElement("div",{className:"delete"},c.a.createElement(Ft.a,null)),c.a.createElement("h3",{className:"delete"},"Delete")),c.a.createElement("li",{onClick:function(){pe(!0),S()}},c.a.createElement("div",null,c.a.createElement(ha.a,null)),c.a.createElement("h3",null,"edit noctua")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your profile"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement($t.a,null)),c.a.createElement("h3",null,"Not interested in this noctua")),re?c.a.createElement("li",{onClick:function(){return ra(Y.id,m)}},c.a.createElement("div",null,c.a.createElement(ta.a,null)),c.a.createElement("h3",null,"Unfollow ","@".concat(G.followingusername))):c.a.createElement("li",{onClick:function(){return ca(Y.id,m)}},c.a.createElement("div",null,c.a.createElement(na.a,null)),c.a.createElement("h3",null,"Follow ","@".concat(G.username))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Qt.a,null)),c.a.createElement("h3",null,"Add/remove from Lists")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Gt.a,null)),c.a.createElement("h3",null,"Block ","@".concat(G.username))),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Jt.a,null)),c.a.createElement("h3",null,"Embed Noctua"))))),c.a.createElement("div",null,c.a.createElement(da.a,{open:de,onClose:fe},c.a.createElement(pa.a,null,"Edit Post"),c.a.createElement(fa.a,null,c.a.createElement(ba.a,{"aria-label":"minimum height",minRows:3,placeholder:"What's happing...",style:{width:200},onChange:function(e){return se(e.target.value)}})),c.a.createElement(Ea.a,null,c.a.createElement(h.a,{onClick:fe},"Cancel"),c.a.createElement(h.a,{onClick:function(){be(d),fe()}},"Edit"))))),c.a.createElement("div",null)))),c.a.createElement("div",{className:"postr",onClick:function(){return j.push("/post/".concat(d,"/").concat(m,"/").concat(p))}},c.a.createElement("div",{className:"postr__avatar"},c.a.createElement(_.a,{src:G.photoURL})),c.a.createElement("div",{className:"postr__body"},c.a.createElement("div",{className:"postr__header"},c.a.createElement("div",{className:"postr__HeaderText"},c.a.createElement("h3",null,G.displayName," ",c.a.createElement("span",{className:"postr__headerSpacial"},G.verified&&c.a.createElement(vt.a,{className:"postr__badge"}),"@","".concat(G.username)))),c.a.createElement("div",{className:"postr__headerDescription"},c.a.createElement("p",null,r),c.a.createElement("img",{src:l,alt:a,onClick:""}))),c.a.createElement("div",null))),c.a.createElement("div",{className:"retweet__footer"},c.a.createElement(_t,{Icon:Tt.a,onClick:function(){return L(!0)},value:H.length}),c.a.createElement(_t,{Icon:Lt.a,value:f,onClick:function(){return M(!0)}}),c.a.createElement(Rt,{likes:O,unlikeAction:function(){return ia(d,Y.id)},likeAction:function(){return oa(d,Y.id,m)}}),c.a.createElement(_t,{Icon:ga.a}))))})),Na=function(e){var t=e.posts;return c.a.createElement(c.a.Fragment,null,c.a.createElement(jt.a,null,t.map(function(e){return e.itretweet?c.a.createElement(wa,{key:e.id,retweeterId:e.retweeterId,postId:e.id,altText:e.altText,senderId:e.senderId,username:e.username,text:e.text,avatar:e.avatar,image:e.image,createdAt:e.createdAt,likes:e.likes,retphotourl:e.retphotourl,retweeter:e.retweeter,retweets:e.retweets,retweettext:e.retweettext}):c.a.createElement(Oa,{key:e.id,postId:e.id,altText:e.altText,senderId:e.senderId,username:e.username,text:e.text,avatar:e.avatar,image:e.image,createdAt:e.createdAt,likes:e.likes,retweets:e.retweets})})))},_a=a(300),xa=Object(P.a)(function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}});function ya(){var e=xa();return c.a.createElement("div",{className:e.root},c.a.createElement(_a.a,null))}a(118);var ka=function(){var e=We(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),d=m[0],p=(m[1],Object(n.useState)(null)),f=Object(o.a)(p,2),E=f[0],O=f[1],j=Object(n.useState)([]),h=Object(o.a)(j,2);h[0],h[1];return Object(n.useEffect)(function(){var e=!0;return Object(u.h)(Object(u.g)(b,"users",t.id)).then(function(t){t.exists&&e&&O(t.data())}),function(){return e=!1}},[]),Object(n.useEffect)(function(){var e=Object(u.e)(b,"posts"),t=Object(u.o)(e,Object(u.n)("createdAt","desc"));return Object(u.m)(t,function(e){i(e.docs.map(function(e){return Object(V.a)({},e.data(),{id:e.id})}))})},[]),console.log(l),c.a.createElement("div",{className:"BarMiddle"},c.a.createElement("div",{className:"BarMiddle__header"},c.a.createElement("div",{className:"BarMiddle__header-ava"},c.a.createElement(_.a,{src:E&&E.photoURL})),c.a.createElement("h2",null,"Home")),c.a.createElement(Ot,null),d&&c.a.createElement("div",{className:"BarMiddle__loader"},c.a.createElement(ya,null)),c.a.createElement(Na,{posts:l}))},Sa=(a(232),function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Boolean(a),i=l?"post-popover":void 0;return c.a.createElement("div",{className:"barRight__barRightContainer"},c.a.createElement("h2",null,"Trends For You"),c.a.createElement("ul",{className:"barRight__trendsContainer"},c.a.createElement("li",null,c.a.createElement("div",{className:"popular"},c.a.createElement("span",null,"Trending in Algeria"),c.a.createElement(Mt.a,{"aria-describedby":i,variant:"contained",onClick:function(e){return r(e.currentTarget)}}),c.a.createElement(C.a,{id:i,open:l,anchorEl:a,onClose:function(){return r(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement($t.a,null)),c.a.createElement("h3",null,"This trend is spam")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement($t.a,null)),c.a.createElement("h3",null,"This trend is abusive or harmfull")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement($t.a,null)),c.a.createElement("h3",null,"This trend is a duplicate")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement($t.a,null)),c.a.createElement("h3",null,"This trend is low quality"))))),c.a.createElement("div",{className:"hashtag"},"Trending in Algeria"),c.a.createElement("div",{className:"NoctuaNumber"},"4012 Noctua")),c.a.createElement("li",null,c.a.createElement("div",{className:"popular"},c.a.createElement("span",null,"Trending in Algeria"),c.a.createElement(Mt.a,null)),c.a.createElement("div",{className:"hashtag"},"Trending in Algeria"),c.a.createElement("div",{className:"NoctuaNumber"},"4099 Noctua")),c.a.createElement("li",null,c.a.createElement("div",{className:"popular"},c.a.createElement("span",null,"Trending in Algeria"),c.a.createElement(Mt.a,null)),c.a.createElement("div",{className:"hashtag"},"FIFAWorldCupU22"),c.a.createElement("div",{className:"NoctuaNumber"},"4022 Noctua")),c.a.createElement("li",null,c.a.createElement("div",{className:"popular"},c.a.createElement("span",null,"Trending in Algeria"),c.a.createElement(Mt.a,null)),c.a.createElement("div",{className:"hashtag"},"MotoGPMandalika"),c.a.createElement("div",{className:"NoctuaNumber"},"3088 Noctua"))))}),Ca=(a(233),function(e){var t=e.display;return c.a.createElement(i.b,{to:t?"/profile/".concat(t.username):"/notfound"},c.a.createElement("div",{className:"userItemFollow--user__item"},c.a.createElement(_.a,{src:t&&t.photoURL}),c.a.createElement("div",{className:"userItemFollow--user__details"},c.a.createElement("h2",null,t?t.displayName:"Empty Room"),c.a.createElement("span",null,t&&"@".concat(t.username))),c.a.createElement(h.a,null,"Follow")))}),Ia=(a(234),function(){var e=We(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1],s=Object(n.useState)([]),m=Object(o.a)(s,2),d=m[0];m[1];return Object(n.useEffect)(function(){var e=!0,t=Object(u.o)(Object(u.e)(b,"users"),Object(u.l)(20));return Object(u.m)(t,function(t){e&&i(t.docs.map(function(e){return Object(V.a)({id:e.id},e.data())}))}),function(){return e=!1}},[]),console.log(l),console.log(d),c.a.createElement("div",{className:"barRight__barRightContainer"},c.a.createElement("h2",null,"Who to follow"),c.a.createElement("ul",{className:"barRight__trendsContainer"},l&&l.filter(function(e){return e.id!==t.id&&!e.followers.includes(t.id)}).slice(0,5).map(function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(Ca,{display:e}))})))}),Ra=(a(235),function(){var e=We(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],s=r[1],m=Object(n.useState)(""),d=Object(o.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)([]),O=Object(o.a)(E,2),j=O[0],h=O[1],v=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("uid","!=",t.id)),g=function(){var e=Object(N.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.i)(v);case 2:t=e.sent,s(t.docs.map(function(e){return Object(V.a)({},e.data(),{id:e.id})}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){g()},[]),c.a.createElement("div",{className:"searchWidget__wrapper"},c.a.createElement("div",{className:"searchWidget"},c.a.createElement("input",{placeholder:"Search Noctua",type:"text",onChange:function(e){return function(e){var t=[];e.length>0&&(t=l.filter(function(t){var a=new RegExp("".concat(e),"gi");return t.displayName.match(a)})),console.log(t),h(t),f(e)}(e.target.value)},value:p}),c.a.createElement(tt.a,{className:"searchWidget__SearchIcon"})),c.a.createElement("div",{className:"autocomp-box"},j&&j.map(function(e,t){return c.a.createElement(i.b,{to:{pathname:"/profile/"+e.username,state:e},style:{color:"inherit",textDecoration:"none"}},c.a.createElement("li",{className:"list",key:t},c.a.createElement(_.a,{src:e.photoURL,className:"BarMiddle__header-ava"}),c.a.createElement("h2",null,e.displayName)))})))}),Aa=(a(146),function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"barRight"},c.a.createElement(Ra,{value:a,onChange:function(e){return r(e.target.value)},onClick:function(){return r("")},placeholder:"Search Noctua"}),c.a.createElement(Sa,null),c.a.createElement(Ia,null))}),Ta=a(122),Ba=a.n(Ta);a(236);function La(e){var t={},a=e.name,n=e.username,c=e.email,r=e.password,l=e.confirmPassword;0===n.length?t.erUsername="Username must not be empty":n.length<3&&n.length<8||n.length>3&&n.length>8?t.erUsername="the username must contain between 3 and 8 characters":/^[a-zA-Z0-9]+$/.test(n)||(t.erUsername="Username is invalid"),0===a.length?t.erName="Full Name must not be empty":a.length<3&&a.length<20||a.length>3&&a.length>20?t.erUsername="the name must contain between 3 and 20 characters":/^[ a-zA-Z]+$/.test(a)||(t.erName="name is invalid"),c?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c)||(t.erEmail="Email address is invalid"):t.erEmail="Email address is required",r?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\d@$.!%*#?&]/.test(r)||(t.erPassword="Password must contain atleast 8 characters, an number, an uppercase, a lowercase, and a special character"):t.erPassword="Password is required",r!==l&&(t.erPasswords="Passwords are not identical");var o=t.erName,i=t.erUsername,s=t.erEmail,u=t.erPassword,m=t.erPasswords;return o||(i||(s||(u||(m||""))))}var Ua=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],l={name:"",username:"",email:"",password:"",confirmPassword:""},i={email:"",password:""},s=We(),m=Object(o.a)(s,2),d=(m[0].user,m[1]),f=Object(n.useState)(l),O=Object(o.a)(f,2),j=O[0],h=O[1],v=Object(n.useState)(i),g=Object(o.a)(v,2),_=g[0],x=g[1],y=Object(n.useState)(""),k=Object(o.a)(y,2),S=k[0],C=k[1],I=Object(n.useState)(!1),R=Object(o.a)(I,2),T=R[0],B=R[1],L=Object(n.useState)(!1),U=Object(o.a)(L,2),P=U[0],D=U[1],M=function(){r(function(e){return!e}),D(!1),h(l),x(i),C(""),B(!1)},z=function(e){try{e.password=void 0,localStorage.setItem("noctua_user",JSON.stringify(e)),d({type:ze,user:JSON.parse(localStorage.getItem("noctua_user"))}),B(!1)}catch(S){return console.log(S),void B(!1)}},F=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=_.email,n=_.password,t.preventDefault(),B(!0),c=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("email","==",a),Object(u.r)("password","==",n),Object(u.l)(1)),e.next=6,Object(u.i)(c).then(function(e){return e.docs.length?Object(V.a)({id:e.docs[0].id},e.docs[0].data()):void C("Invalid credential")}).then(function(e){e?z(e):(C("An error occured, please try again"),B(!1))}).catch(function(e){B(!1),C("An error occured, please try again")});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=Object(n.useState)([]),W=Object(o.a)(q,2),H=W[0],J=W[1],Z=Object(u.e)(b,"users");Object(n.useEffect)(function(){(function(){var e=Object(N.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.i)(Z);case 2:t=e.sent,J(t.docs.map(function(e){return Object(V.a)({},e.data(),{id:e.id})}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()(),H.map(function(e){e.username===j.username&&alert("username existe d\xe9ja"),e.email===j.email&&alert("email existe d\xe9ja")})},[j.username,j.email]);var Y=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n,c,r,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=j.name,n=j.username,c=j.email,r=j.password,t.preventDefault(),D(!0),C(La(j)),!P||S.length){e.next=19;break}return B(!0),e.prev=7,e.next=10,Object(p.a)(E,c,r);case 10:return l=e.sent,e.next=13,Object(u.p)(Object(u.g)(b,"users",l.user.uid),{uid:l.user.uid,displayName:a,username:n,email:c,password:r,createdAt:u.a.fromDate(new Date),bio:"",photoURL:"",wallpaper:"",contactes:[],followers:[],following:[],verified:!0}).then(function(e){console.log(e),M()});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return");case 19:case"end":return e.stop()}},e,null,[[7,15]])}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("section",{className:"login__section"},c.a.createElement("div",{className:"login__container ".concat(a?"active":"")},c.a.createElement("div",{className:"user signinBc"},c.a.createElement("div",{className:"imgBc"},c.a.createElement("img",{src:Ba.a,alt:"backdrop"})),c.a.createElement("div",{className:"formBc"},c.a.createElement("form",{autoComplete:"off",onSubmit:F},c.a.createElement("div",{className:"logo_noctua"},"\xa0",c.a.createElement(ut,null)),c.a.createElement("h2",null,"Log In"),c.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:_.email,onChange:function(e){return x(Object(V.a)({},_,{email:e.target.value}))}}),c.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:_.password,onChange:function(e){return x(Object(V.a)({},_,{password:e.target.value}))},required:!0}),c.a.createElement("button",{type:"submit",className:"button1"},T?c.a.createElement(A,null):"Log in"),S.length>0&&c.a.createElement("div",{className:"error"},S),c.a.createElement("p",{className:"signup"},"Don't have an account? ",c.a.createElement("span",{onClick:M},"Sign up"))))),c.a.createElement("div",{className:"user signupBc"},c.a.createElement("div",{className:"formBc"},c.a.createElement("form",{autoComplete:"off",onSubmit:Y},c.a.createElement("div",{className:"logo_noctua"},c.a.createElement(ut,null)),c.a.createElement("h2",null,"Create your Account"),c.a.createElement("input",{type:"text",name:"name",placeholder:"Full Name",value:j.name,onChange:function(e){return h(Object(V.a)({},j,{name:e.target.value}))}}),c.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:j.username,onChange:function(e){return h(Object(V.a)({},j,{username:e.target.value}))}}),c.a.createElement("input",{type:"text",name:"email",placeholder:"Email",value:j.email,onChange:function(e){return h(Object(V.a)({},j,{email:e.target.value}))}}),c.a.createElement("input",{type:"password",name:"password",placeholder:"Create Password",value:j.password,onChange:function(e){return h(Object(V.a)({},j,{password:e.target.value}))}}),c.a.createElement("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:j.confirmPassword,onChange:function(e){return h(Object(V.a)({},j,{confirmPassword:e.target.value}))}}),S.length>0&&c.a.createElement("div",{className:"error"},S),c.a.createElement("button",{type:"submit",className:"button1"},T?c.a.createElement(A,null):"Sign up"),c.a.createElement("p",{className:"signup"},"have an account? ",c.a.createElement("span",{onClick:M},"Log in")))),c.a.createElement("div",{className:"imgBc"},c.a.createElement("img",{src:Ba.a,alt:"backdrop"})))))},Pa=a(164),Da=a.n(Pa),Ma=a(165),za=a.n(Ma),Fa=a(253),qa=a(251),Wa=a(175),Ha=Object(P.a)(function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",outline:"none"}}}),Ja=function(e){var t=e.open,a=e.onClose,n=e.imgsrc,r=Ha();return c.a.createElement(Fa.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:r.modal,open:t,onClose:a,closeAfterTransition:!0,BackdropComponent:qa.a,BackdropProps:{timeout:500}},c.a.createElement(Wa.a,{in:t},c.a.createElement("div",{className:"modalImage__imageWrapper"},c.a.createElement("img",{src:n,alt:"popupimge"}))))},Za=a(301),Va=a(123),Ya=a.n(Va),$a=(a(237),function(e){var t=e.profile,a=e.setUpdatedProfileState,r=t.bio,l=t.displayName,i=t.location,s=t.wallpaper,u=t.photoURL,m=t.website,d=Object(n.useState)({displayName:l,bio:r||"",location:i||"",website:m||""}),p=Object(o.a)(d,2),f=p[0],b=p[1],E=Object(n.useState)({photoSrc:u,wallpaperSrc:s}),O=Object(o.a)(E,2),j=O[0],h=O[1],g=Object(n.useState)({photoToSend:u,wallpaperToSend:s}),w=Object(o.a)(g,2),N=w[0],_=w[1],x=Object(n.useState)(null),y=Object(o.a)(x,2),k=y[0],S=y[1],C=Object(n.useState)({photo:{width:0,height:0},wallpaper:{width:0,height:0}}),I=Object(o.a)(C,2),R=I[0],A=I[1],B=Object(n.useState)({photo:null,wallpaper:null}),L=Object(o.a)(B,2),U=L[0],P=L[1],D=Object(n.useState)(!1),M=Object(o.a)(D,2),z=M[0],F=M[1],q=Object(n.useState)(""),W=Object(o.a)(q,2),H=W[0],J=W[1],Y=function(e,t){var a=new FileReader;a.onloadend=function(){"photo"===t&&(h(Object(V.a)({},j,{photoSrc:a.result})),_(Object(V.a)({},N,{photoToSend:a.result})),J("photo")),"wallpaper"===t&&(h(Object(V.a)({},j,{wallpaperSrc:a.result})),_(Object(V.a)({},N,{wallpaperToSend:a.result})),J("wallpaper")),F(!0)},a.readAsDataURL(e.target.files[0]),Le(e).then(function(e){"photo"===t&&A(Object(V.a)({},R,{photo:{width:e.width,height:e.height}})),"wallpaper"===t&&A(Object(V.a)({},R,{wallpaper:{width:e.width,height:e.height}}))})};Object(n.useEffect)(function(){P(Object(V.a)({},U,{photo:R.photo.width/R.photo.height,wallpaper:R.wallpaper.width/R.wallpaper.height}))},[R]);var $=[{id:0,title:"",item:c.a.createElement(be,{image:"wallpaper"===H?j.wallpaperSrc:j.photoSrc,setCroppedImageResult:S,initialAspectRatio:"wallpaper"===H?U.wallpaper:U.photo})}];return Object(n.useEffect)(function(){a({profileState:f,pictureToSend:N})},[f,N]),c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:z,onClose:function(){F(!1),J("")},title:"Edit Media",callback:function(){"photo"===H&&(console.log("from photo",k),h(Object(V.a)({},j,{photoSrc:URL.createObjectURL(k)})),_(Object(V.a)({},N,{photoToSend:k}))),"wallpaper"===H&&(console.log("from wallpaper",k),h(Object(V.a)({},j,{wallpaperSrc:URL.createObjectURL(k)})),_(Object(V.a)({},N,{wallpaperToSend:k})))},Icon:Ie.a,ButtonText:"Apply"},c.a.createElement(Z,{items:$})),c.a.createElement("div",{className:"editProfile"},c.a.createElement("div",{className:"editProfile__theme",style:{backgroundImage:"url(".concat(j.wallpaperSrc&&j.wallpaperSrc,")")}},c.a.createElement("div",{className:"editProfile__theme-photoWrapper"},j.photoSrc&&c.a.createElement("img",{src:j.photoSrc,alt:"".concat(l)}),c.a.createElement("div",{className:"editProfile__btnWrapper"},c.a.createElement(T,{Icon:Ya.a,type:"file",accept:"image/*",name:"image-upload",id:"input-wallpaper",onChange:function(e){Y(e,"photo"),J("photo")}}))),c.a.createElement("div",{className:"editProfile__theme-themeActions"},c.a.createElement("div",null,c.a.createElement(T,{Icon:Ya.a,type:"file",accept:"image/*",name:"image-upload",id:"input-photo",onChange:function(e){Y(e,"wallpaper"),J("wallpaper")}})),c.a.createElement("div",null,c.a.createElement(bt.a,{onClick:function(){h(Object(V.a)({},j,{wallpaperSrc:null})),A(Object(V.a)({},R,{walpaper:{width:0,height:0}})),P(Object(V.a)({},U,{wallpaper:null})),_(Object(V.a)({},N,{wallpaperToSend:""}))}})," "))),c.a.createElement("form",{noValidate:!0,autoComplete:"off"},c.a.createElement(Za.a,{id:"displayName",label:"Name",variant:"filled",value:f.displayName,onChange:function(e){return b(Object(V.a)({},f,{displayName:e.target.value}))}}),c.a.createElement(Za.a,{id:"bio",label:"Bio",variant:"filled",value:f.bio,onChange:function(e){return b(Object(V.a)({},f,{bio:e.target.value}))}}),c.a.createElement(Za.a,{id:"location",label:"Location",variant:"filled",value:f.location,onChange:function(e){return b(Object(V.a)({},f,{location:e.target.value}))}}),c.a.createElement(Za.a,{id:"website",label:"Website",variant:"filled",value:f.website,onChange:function(e){return b(Object(V.a)({},f,{website:e.target.value}))},className:"lastbordered"}))))}),Xa=function(e){var t=e.profile,a=We(),r=Object(o.a)(a,1)[0].user,l=Object(n.useState)([]),i=Object(o.a)(l,2),s=i[0],m=i[1],d=Object(n.useState)([]),p=Object(o.a)(d,2),f=p[0],E=p[1],O=Object(n.useState)(null),j=Object(o.a)(O,2),h=j[0],v=j[1],g=Object(n.useState)(null),w=Object(o.a)(g,2),N=w[0],x=w[1];return Object(n.useEffect)(function(){console.log(r.id),Object(u.h)(Object(u.g)(b,"users",r.id)).then(function(e){m(e.data().following)})},[]),console.log(s),Object(n.useEffect)(function(){t&&t.followers.length>0&&E(t.followers.filter(function(e){return s.includes(e)}))},[s,t]),console.log(f),Object(n.useEffect)(function(){var e=f.length;e>0&&(e>1&&Object(u.h)(Object(u.g)(b,"users",f[1])).then(function(e){console.log(e.data()),x(e.data())}),Object(u.h)(Object(u.g)(b,"users",f[0])).then(function(e){console.log(e.data()),v(e.data())}))},[f]),console.log(f),c.a.createElement("div",{className:"followedInfo"},f.length>0?c.a.createElement(c.a.Fragment,null,h&&c.a.createElement(_.a,{src:h.photoURL}),f.length>1&&N&&c.a.createElement(_.a,{src:N.photoURL}),c.a.createElement("span",null,"Followed by ","".concat(h?h.displayName:""," ")," ",2===f.length&&N?"and ".concat(N.displayName):""," ",f.length>2&&N?", ".concat(N.displayName,", and ").concat(f.length-2," others"):""," ")):c.a.createElement("span",null,"Not followed by anyone you follow"))},Ga=(a(238),function(e){e.posts,e.prfile;var t=Object(n.useState)({bio:"",displayName:"",followers:[],following:[],location:"",photoURL:"",website:""}),a=Object(o.a)(t,2),r=a[0],l=a[1],m=We(),d=Object(o.a)(m,1)[0].user,p=Object(s.useParams)().username,f=Object(n.useState)({}),E=Object(o.a)(f,2),O=E[0],j=E[1],h=Object(n.useState)(null),g=Object(o.a)(h,2),w=g[0],N=g[1],_=Object(n.useState)(null),x=Object(o.a)(_,2),y=x[0],k=x[1],S=Object(n.useState)(!1),C=Object(o.a)(S,2),I=C[0],R=C[1],T=Object(n.useState)(!1),B=Object(o.a)(T,2),L=B[0],U=B[1],P=Object(n.useState)(!1),D=Object(o.a)(P,2),M=D[0],z=D[1],F=Object(n.useState)(!1),q=Object(o.a)(F,2),W=q[0],H=q[1],J=(r&&r.id)===d.id,Z=Object(n.useState)(!1),Y=Object(o.a)(Z,2),$=Y[0],X=Y[1],G=Object(n.useState)(!1),K=Object(o.a)(G,2),Q=K[0],ee=K[1],te=Object(n.useState)(""),ae=Object(o.a)(te,2),ne=ae[0],ce=ae[1];Object(n.useEffect)(function(){var e=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("username","==",p));Object(u.m)(e,function(e){l(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())})[0])})},[p]);return Object(n.useEffect)(function(){if(console.log("isPhotoReady: ".concat(I,", isWallpaperReady: ").concat(L)),I&&L){var e=O.profileState,t=e.displayName,a=e.bio,n=e.location,c=e.website;!function e(){Object(u.q)(Object(u.g)(b,"users",d.uid),{displayName:t,bio:a,location:n,website:c,photoURL:w,wallpaper:y}).then(function(e){z(!1)}).catch(function(t){e()})}()}},[I,L]),Object(n.useEffect)(function(){r&&(J||X(r.followers.includes(d.id)))},[r]),c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:W,onClose:function(){return H(!1)},title:"Edit Profile",callback:function(){var e=O.pictureToSend,t=e.photoToSend,a=e.wallpaperToSend;z(!0),t===r.photoURL&&(N(r.photoURL),R(!0)),t!==r.photoURL&&function e(){return Ue(t).then(function(e){N(e),R(!0)}).catch(function(t){e()})}(),a===r.wallpaper&&(k(r.wallpaper),U(!0)),a!==r.wallpaper&&(null===a?(k(""),U(!0)):function e(){Ue(a).then(function(e){k(e),U(!0)}).catch(function(t){e()})}())},Icon:bt.a,ButtonText:"Save"},c.a.createElement($a,{profile:r,setUpdatedProfileState:j})),c.a.createElement(Ja,{open:Q,onClose:function(){return ee(!1)},imgsrc:ne}),c.a.createElement("div",{className:"userProfile"},c.a.createElement("div",{className:"userProfile__theme",style:{backgroundImage:"url(".concat(r&&r.wallpaper,")")}},c.a.createElement("div",{className:"photoWrapper"},r&&r.photoURL&&c.a.createElement("img",{src:r.photoURL,alt:"".concat(r.displayName),onClick:function(){return e=r.photoURL,ce(e),void ee(!0);var e}}))),c.a.createElement("div",{className:"infoWrapper"},c.a.createElement("div",{className:"userProfile__actions"},c.a.createElement("div",{className:"moreWrapper"},c.a.createElement(Mt.a,null)),!J&&c.a.createElement("div",{className:"mailWrapper"},c.a.createElement(rt.a,null)),J?c.a.createElement("div",{className:"followWrapper",onClick:function(){return H(!0)}},"Edit Profile"):$?c.a.createElement("div",{className:"followWrapper",onClick:function(){return ra(d.id,r.id)}},"Followed"):c.a.createElement("div",{className:"followWrapper",onClick:function(){return ca(d.id,r.id)}},"Follow")),c.a.createElement("h2",null,r&&r.displayName),p&&c.a.createElement("span",null,"@".concat(p)),r&&c.a.createElement("p",null,r.bio),c.a.createElement("div",{className:"bioInfo"},r&&r.location&&c.a.createElement("div",null," ",c.a.createElement(Vt.a,null)," ",c.a.createElement("span",null,r.location)),r&&r.website&&c.a.createElement("div",{className:"blued"}," ",c.a.createElement(Da.a,null)," ",c.a.createElement("span",null,r.website)),c.a.createElement("div",null,c.a.createElement(za.a,null)," ",c.a.createElement("span",null," jan 2022"))),c.a.createElement("div",{className:"countInfo"},c.a.createElement(i.b,{to:"/profile/".concat(p,"/followinfo")},c.a.createElement("span",null,r&&r.following.length," ",c.a.createElement("p",null,"Following"))),c.a.createElement(i.b,{to:"/profile/".concat(p,"/followinfo")},c.a.createElement("span",null,void 0!==r&&r.followers.length," ",c.a.createElement("p",null,"Followers"))),J&&M&&c.a.createElement("div",{className:"themeSpinner"}," ",c.a.createElement(A,null)," ")),c.a.createElement("div",{className:"themeBottom"},!J&&c.a.createElement(Xa,{profile:r})))))}),Ka=a(115),Qa=a.n(Ka),en=function(){var e=Object(s.useParams)().username,t=Object(s.useHistory)(),a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)([]),d=Object(o.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(!1),O=Object(o.a)(E,2),j=O[0],h=O[1],v=Object(s.useLocation)().state,g=Object(n.useState)(v),w=Object(o.a)(g,2),N=w[0],_=w[1];Object(n.useEffect)(function(){var t=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("username","==",e));Object(u.m)(t,function(e){_(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())})[0])})},[e]),Object(n.useEffect)(function(){if(h(!0),N){var e=Object(u.o)(Object(u.e)(b,"posts"),Object(u.n)("createdAt","desc"));Object(u.m)(e,function(e){f(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())})),h(!1)})}},[N]),Object(n.useEffect)(function(){if(h(!0),N){var e=Object(u.o)(Object(u.e)(b,"posts"),Object(u.r)("likes","array-contains",N.id));Object(u.m)(e,function(e){i(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())})),h(!1)})}},[N]);var x=[{id:0,title:"Noctua",item:c.a.createElement(c.a.Fragment,null,j&&c.a.createElement("div",{className:"BarMiddle__loader"},c.a.createElement(ya,null)),c.a.createElement(Na,{posts:p.filter(function(e){return e.senderId==N.id})}))},{id:1,title:"Noctua & replies",item:c.a.createElement(c.a.Fragment,null,"  ",j&&c.a.createElement("div",{className:"BarMiddle__loader"},c.a.createElement(ya,null)),c.a.createElement(Na,{posts:p.filter(function(e){return e.retweeterId==N.id})}))},{id:2,title:"Media",item:c.a.createElement(c.a.Fragment,null,j&&c.a.createElement("div",{className:"BarMiddle__loader"},c.a.createElement(ya,null)),c.a.createElement(Na,{posts:p.filter(function(e){return null!=e.image&&e.senderId==N.id})}))},{id:3,title:"likes",item:c.a.createElement(c.a.Fragment,null,j&&c.a.createElement("div",{className:"BarMiddle__loader"},c.a.createElement(ya,null)),c.a.createElement(Na,{posts:l}))}];return c.a.createElement("div",{className:"BarMiddle"},c.a.createElement("div",{className:"profile__header"},c.a.createElement("div",{className:"profile__backArrow",onClick:function(){return t.goBack()}},c.a.createElement(Ie.a,null)),c.a.createElement("div",{className:"profil e__title"},c.a.createElement("div",{className:"profile__title_title"},c.a.createElement("h2",null,N&&N.displayName),c.a.createElement(Qa.a,null)),c.a.createElement("span",null,p.filter(function(e){return e.senderId==N.id})&&p.filter(function(e){return e.senderId==N.id}).length," noctua"))),c.a.createElement(Ga,{profile:N}),c.a.createElement(Z,{items:x}))},tn=(a(239),function(e){var t=e.posts,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)(function(){i(t.filter(function(e){return null!=e.image}).slice(0,6).map(function(e){return e.image}))},[]),c.a.createElement("div",{className:"barRight__barRightContainerforPhotos"},c.a.createElement("div",{className:"wcfpRow"},c.a.createElement("div",{className:"square bcA",style:{backgroundImage:"url(".concat(l.length>0&&l[0],")")}}),c.a.createElement("div",{className:"square",style:{backgroundImage:"url(".concat(l.length>0&&l[1],")")}}),c.a.createElement("div",{className:"square bcB",style:{backgroundImage:"url(".concat(l.length>0&&l[2],")")}})),c.a.createElement("div",{className:"wcfpRow"},c.a.createElement("div",{className:"square bcD",style:{backgroundImage:"url(".concat(l.length>0&&l[3],")")}}),c.a.createElement("div",{className:"square",style:{backgroundImage:"url(".concat(l.length>0&&l[4],")")}}),c.a.createElement("div",{className:"square bcC",style:{backgroundImage:"url(".concat(l.length>0&&l[5],")")}})))}),an=function(){var e=Object(s.useParams)().username,t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),d=m[0],p=m[1],f=Object(n.useState)(null),E=Object(o.a)(f,2),O=E[0],j=E[1];return Object(n.useEffect)(function(){var t=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("username","==",e));Object(u.m)(t,function(e){j(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())})[0])})},[e]),Object(n.useEffect)(function(){if(O){var e=Object(u.o)(Object(u.e)(b,"posts"),Object(u.r)("senderId","==",O.id));Object(u.m)(e,function(e){l(e.docs.map(function(e){return e.data()}))})}},[O]),c.a.createElement("div",{className:"barRight"},c.a.createElement(Ra,{value:d,onChange:function(e){return p(e.target.value)},onClick:function(){return p("")},placeholder:"Search Noctau"}),r.length>0&&c.a.createElement(tn,{posts:r}),c.a.createElement(Ia,null),c.a.createElement(Sa,null))},nn=function(){var e=Object(s.useParams)().username,t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)([]),m=Object(o.a)(i,2),d=m[0],p=m[1],f=Object(n.useState)({}),E=Object(o.a)(f,2),O=E[0],j=E[1],h=Object(n.useState)([]),v=Object(o.a)(h,2),g=v[0],w=v[1];Object(n.useEffect)(function(){if(e){var t=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("username","==",e));Object(u.m)(t,function(e){j(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())})[0])})}},[]),Object(n.useEffect)(function(){if(O.id){var e=Object(u.o)(Object(u.e)(b,"posts"),Object(u.r)("senderId","==",O.id),Object(u.n)("timestamp","desc"));Object(u.m)(e,function(e){w(e.docs.map(function(e){return e.data()}))})}},[O]),Object(n.useEffect)(function(){if(O.id){console.log(O.displayName,O.id);var e=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("followers","array-contains",O.id));Object(u.m)(e,function(e){l(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())}))});var t=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("following","array-contains",O.id));Object(u.m)(t,function(e){p(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())}))})}},[O]),console.log(r),console.log(d);var N=[{id:0,title:"Followers",item:c.a.createElement("ul",null,d&&d.map(function(e){return c.a.createElement("li",{key:e.id}," ",c.a.createElement(Ca,{display:e}))}))},{id:1,title:"Following",item:c.a.createElement("ul",null,r&&r.map(function(e){return c.a.createElement("li",{key:e.id}," ",c.a.createElement(Ca,{display:e}))}))}];return c.a.createElement("div",{className:"BarMiddle"},c.a.createElement("div",{className:"profile__header forFollow"},c.a.createElement("div",{className:"profile__title"},c.a.createElement("div",{className:"profile__title_title"},c.a.createElement("h2",null,O.displayName),c.a.createElement(Qa.a,null)),c.a.createElement("span",null,g.length>0?"".concat(g.length," noctua"):""))),c.a.createElement(Z,{items:N}))},cn=a(166),rn=a.n(cn),ln=(a(240),function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(p.b)();Object(p.c)(l,function(e){if(e){var t=e.uid;console.log(t),Object(u.h)(Object(u.g)(b,"users",t)).then(function(e){var t=e.data();r(t.username),console.log(a)})}}),console.log(a);var s="/Profile/"+a;return console.log(s),c.a.createElement("div",{className:"bottomNav"},c.a.createElement("nav",null,c.a.createElement(i.c,{exact:!0,to:"/",activeClassName:"bottomNav__active"},c.a.createElement(Qe.a,null)),c.a.createElement(i.c,{to:"/search",activeClassName:"bottomNav__active"},c.a.createElement(rn.a,null)),c.a.createElement(i.c,{to:"/notifications",activeClassName:"bottomNav__active"},c.a.createElement(nt.a,null)),c.a.createElement(i.c,{to:"/messages",activeClassName:"bottomNav__active"},c.a.createElement(rt.a,null)),c.a.createElement(i.c,{to:s,activeClassName:"bottomNav__active"},c.a.createElement(dt.a,null))))}),on=a(116),sn=(a(147),function(e){var t=e.Icon,a=e.value,n=e.onClick;return c.a.createElement("div",{className:"footerIcon_wrapper",onClick:n},c.a.createElement(t,null),c.a.createElement("div",{className:"footerIcon__counter"},a||""))}),un=function(e){var t=e.likes,a=e.likeAction,r=e.unlikeAction,l=We(),i=Object(o.a)(l,1)[0].user,s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){i.id&&t&&(t.includes(i.id)?d(!0):d(!1))},[t]),c.a.createElement("div",{className:"footerIcon_wrapper"},m?c.a.createElement("span",{className:"liked",onClick:r},c.a.createElement(It.a,null)):c.a.createElement(St.a,{onClick:a}),c.a.createElement("div",{className:"footerIcon__counter"},t&&t.length>0&&t.length))},mn=(a(241),Object(n.forwardRef)(function(e,t){var a=e.commentId,r=e.text,l=e.commentimage,i=e.commentAltText,s=e.postId,m=e.likes,d=e.createdAt,p=e.replierId;console.log(p);var f=We(),E=Object(o.a)(f,1)[0].user,O=Object(n.useState)({id:"",displayName:"",photoURL:"",verified:!1,username:"",followers:[],following:[]}),j=Object(o.a)(O,2),v=j[0],g=j[1],x=Object(n.useState)(null),y=Object(o.a)(x,2),k=y[0],S=y[1],C=v.displayName,I=v.username,R=v.photoURL,A=v.verified,T=Object(n.useState)(null),B=Object(o.a)(T,2),L=(B[0],B[1]),U=function(){return L(null)},P=Object(n.useState)(""),D=Object(o.a)(P,2),M=D[0],z=D[1],F=c.a.useState(!1),q=Object(o.a)(F,2),W=q[0],H=q[1],J=function(){H(!1),U()},Z=function(){var e=Object(N.a)(w.a.mark(function e(t,a){var n,c,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=M,c=Object(u.g)(b,"posts",a,"comments",t),r={text:n},e.next=5,Object(u.q)(c,r);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){Object(u.m)(Object(u.g)(b,"users",E.id),function(e){S(Object(V.a)({id:E.id},e.data()))}),Object(u.m)(Object(u.g)(b,"users",p),function(e){g(e.data())}),console.log(k),console.log(E.id)},[]),c.a.createElement("div",{className:"comment",ref:t},c.a.createElement("div",{className:"comment__avatar"},c.a.createElement(_.a,{src:R})),c.a.createElement("div",{className:"comment__body"},c.a.createElement("div",{className:"comment__header"},c.a.createElement("div",{className:"comment__HeaderText"},c.a.createElement("h3",null,C," ",c.a.createElement("span",{className:"comment__headerSpacial"},A&&c.a.createElement(vt.a,{className:"post__badge"}),"@","".concat(I)),c.a.createElement("small",{className:"retweet__headerDescription-moment"},c.a.createElement(Nt.a,{fromNow:!0},d.toDate())))),c.a.createElement("div",null,c.a.createElement(da.a,{open:W,onClose:J},c.a.createElement(pa.a,null,"Edit Post"),c.a.createElement(fa.a,null,c.a.createElement(ba.a,{"aria-label":"minimum height",minRows:3,placeholder:"What's happing...",style:{width:200},onChange:function(e){return z(e.target.value)}})),c.a.createElement(Ea.a,null,c.a.createElement(h.a,{onClick:J},"Cancel"),c.a.createElement(h.a,{onClick:function(){Z(a,s),J()}},"Edit")))),c.a.createElement("div",{className:"comment__headerDescription"},c.a.createElement("p",null,r)),c.a.createElement("img",{src:l,alt:i,onClick:""})),c.a.createElement("div",{className:"comment__footer"},c.a.createElement(un,{likes:m,unlikeAction:function(){return ua(a,s,E.id)},likeAction:function(){return sa(a,s,E.id)}}),p===E.id&&c.a.createElement(c.a.Fragment,null,c.a.createElement(sn,{Icon:ha.a,onClick:function(){H(!0),U()}}),c.a.createElement(sn,{Icon:Ft.a,onClick:function(){return ma(a,s)}}))),c.a.createElement("div",null)))})),dn=a(76),pn=a.n(dn),fn=Object(n.forwardRef)(function(e,t){Object(on.a)(e);var a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1],m=Object(s.useParams)().postId,d=Object(s.useParams)().senderId;console.log(m),console.log(d);var p=Object(s.useHistory)(),f=Object(n.useState)(null),E=Object(o.a)(f,2),O=E[0],j=E[1],g=function(){return j(null)},x=Boolean(O),y=x?"post-popover":void 0,k=Object(n.useState)(!1),S=Object(o.a)(k,2),I=S[0],R=S[1],A=Object(n.useState)(!1),T=Object(o.a)(A,2),B=T[0],L=T[1],U=Object(n.useState)(!1),P=Object(o.a)(U,2),D=(P[0],P[1],Object(n.useState)([])),M=Object(o.a)(D,2),z=M[0],F=M[1],q=Object(n.useState)([]),W=Object(o.a)(q,2),H=W[0],J=W[1],Z=Object(n.useState)(null),Y=Object(o.a)(Z,2),$=Y[0],X=Y[1],G=We(),K=Object(o.a)(G,1)[0].user,Q=Object(n.useState)(""),ee=Object(o.a)(Q,2),te=ee[0],ae=ee[1],ne=c.a.useState(!1),ce=Object(o.a)(ne,2),re=ce[0],le=ce[1],oe=function(){le(!1),g()},ie=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.g)(b,"posts",t),n={text:te},e.next=4,Object(u.q)(a,n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){return Object(u.m)(Object(u.g)(b,"posts",m),function(e){i(e.data())})},[b.postId]),console.log(l.image);var se=l.image,ue=l.altText,me=l.createdAt,de=l.text,pe=l.likes;console.log(se),console.log(ue),console.log(me),console.log(de),console.log(pe),Object(n.useEffect)(function(){Object(u.m)(Object(u.g)(b,"users",K.id),function(e){X(Object(V.a)({id:K.id},e.data()))});var e=!0;return Object(u.h)(Object(u.g)(b,"users",d)).then(function(t){t.exists&&e&&F(t.data())}),function(){return e=!1}},[]),console.log(K.id),console.log($),console.log(l),Object(n.useEffect)(function(){var e=Object(u.e)(b,"posts",m,"comments"),t=Object(u.o)(e,Object(u.n)("createdAt","desc"));return Object(u.m)(t,function(e){J(e.docs.map(function(e){return Object(V.a)({},e.data(),{id:e.id})}))})},[b,m]),console.log(H);var fe=function(){};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"BarMiddle"},c.a.createElement("div",{className:"BarMiddle__header"},c.a.createElement("div",{className:"BarMiddle__header-ava"}),c.a.createElement("div",{className:"post__headerExpandIcon",onClick:function(){return p.push("/")}},c.a.createElement(pn.a,null)),c.a.createElement("h2",null,"Home")),c.a.createElement(v,{open:I,onClose:function(){return R(!1)},title:"",callback:fe,Icon:bt.a,ButtonText:""},c.a.createElement(yt,{props:{altText:ue,text:de,image:se,createdAt:me,senderId:d,postId:m,likes:pe},profile:z,ownProfile:$})),c.a.createElement(v,{open:B,onClose:function(){return L(!1)},title:"",callback:fe,Icon:bt.a,ButtonText:""},c.a.createElement(gt,{props:{altText:ue,text:de,image:se,createdAt:me,senderId:d,postId:m,likes:pe},profile:z,ownProfile:$})),c.a.createElement("div",{className:"post",ref:t},c.a.createElement("div",{className:"post__avatar"},c.a.createElement(_.a,{src:z.photoURL})),c.a.createElement("div",{className:"post__body"},c.a.createElement("div",{className:"post__header"},c.a.createElement("div",{className:"post__headerText"},c.a.createElement("h3",null,z.displayName," ",c.a.createElement("span",{className:"post__headerSpecial"},z.verified&&c.a.createElement(vt.a,{className:"post__badge"}),"@","".concat(z.username))),c.a.createElement("div",{className:"post__headerExpandIcon","aria-describedby":y,variant:"contained",onClick:function(e){return j(e.currentTarget)}},c.a.createElement(Mt.a,null)),c.a.createElement(C.a,{id:y,open:x,anchorEl:O,onClose:g,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},d===K.id&&c.a.createElement("li",{onClick:function(){le(!0),g()}},c.a.createElement("div",null,c.a.createElement(ha.a,null)),c.a.createElement("h3",null,"Edit post")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your  profile")))),c.a.createElement("div",null,c.a.createElement(da.a,{open:re,onClose:oe},c.a.createElement(pa.a,null,"Edit Post"),c.a.createElement(fa.a,null,c.a.createElement(ba.a,{"aria-label":"minimum height",minRows:3,placeholder:"What's happing...",style:{width:200},onChange:function(e){return ae(e.target.value)}})),c.a.createElement(Ea.a,null,c.a.createElement(h.a,{onClick:oe},"Cancel"),c.a.createElement(h.a,{onClick:function(){ie(m),oe()}},"Edit"))))),c.a.createElement("div",{className:"post__headerDescription"},c.a.createElement("p",null,l.text)),c.a.createElement("img",{src:l.image,alt:l.altText,onClick:""})),c.a.createElement("div",{className:"post__footer"},c.a.createElement(_t,{Icon:Tt.a,value:H.length,onClick:function(){return R(!0)}}),c.a.createElement(_t,{Icon:Lt.a,value:l.retweets,onClick:function(){return L(!0)}}),c.a.createElement(Rt,{likes:l.likes,unlikeAction:function(){return ia(m,K.id)},likeAction:function(){return oa(m,K.id,d)}}),c.a.createElement(_t,{Icon:Pt.a})),c.a.createElement("div",null))),c.a.createElement(jt.a,null,H.map(function(e){return c.a.createElement(mn,{key:e.id,commentId:e.id,postId:e.post,commentAltText:e.commentAltText,replierId:e.senderId,text:e.text,commentimage:e.commentimage,createdAt:e.createdAt,likes:e.likes})}))),c.a.createElement(Aa,null))}),bn=(a(242),function(){var e=We(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=(r[0],r[1],Object(n.useState)([])),i=Object(o.a)(l,2),m=i[0],d=i[1],p=t.id,f=Object(s.useHistory)();return console.log(p),Object(n.useEffect)(function(){var e=Object(u.e)(b,"notifications"),t=Object(u.o)(e,Object(u.r)("user","==",p),Object(u.n)("createdAt","desc"));return Object(u.m)(t,function(e){d(e.docs.map(function(e){return Object(V.a)({},e.data(),{id:e.id})}))})},[]),console.log(m),c.a.createElement("div",{className:"BarMiddle"},c.a.createElement("div",{className:"BarMiddle__header"},c.a.createElement("h2",null,"Notification")),c.a.createElement("div",{className:"user_infoo"},m.map(function(e){return e.username?c.a.createElement("div",{className:"user_detailll",key:e.id,onClick:function(){return f.push("/profile/".concat(e.username))}},c.a.createElement("div",{className:"user_detaill"},c.a.createElement(_.a,{src:e.photoURL,className:"avatarr"}),c.a.createElement("br",null),c.a.createElement("p",null,e.text),c.a.createElement("small",{className:"notif__headerDescription-moment"},c.a.createElement(Nt.a,{fromNow:!0},e.createdAt.toDate())))):e.itretweet?c.a.createElement("div",{className:"user_detailll",key:e.id,onClick:function(){return f.push("/post/".concat(e.postId,"/").concat(e.user,"/").concat(e.retweeter))}},c.a.createElement("div",{className:"user_detaill"},c.a.createElement(_.a,{src:e.photoURL,className:"avatarr"}),c.a.createElement("br",null),c.a.createElement("p",null,e.text),c.a.createElement("small",{className:"notif__headerDescription-moment"},c.a.createElement(Nt.a,{fromNow:!0},e.createdAt.toDate())))):c.a.createElement("div",{className:"user_detailll",key:e.id,onClick:function(){return f.push("/post/".concat(e.postId,"/").concat(e.user))}},c.a.createElement("div",{className:"user_detaill"},c.a.createElement(_.a,{src:e.photoURL,className:"avatarr"}),c.a.createElement("br",null),c.a.createElement("p",null,e.text),c.a.createElement("small",{className:"notif__headerDescription-moment"},c.a.createElement(Nt.a,{fromNow:!0},e.createdAt.toDate()))))})))}),En=Object(n.forwardRef)(function(e,t){Object(on.a)(e);var a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1],m=Object(s.useParams)().postId,d=Object(s.useParams)().senderId,p=Object(s.useParams)().retweeterId;console.log(m),console.log(d),console.log(p);var f=Object(s.useHistory)(),E=Object(n.useState)(null),O=Object(o.a)(E,2),j=O[0],g=O[1],x=function(){return g(null)},y=Boolean(j),k=y?"post-popover":void 0,S=Object(n.useState)(!1),I=Object(o.a)(S,2),R=I[0],A=I[1],T=Object(n.useState)(!1),B=Object(o.a)(T,2),L=B[0],U=B[1],P=Object(n.useState)(!1),D=Object(o.a)(P,2),M=(D[0],D[1],Object(n.useState)([])),z=Object(o.a)(M,2),F=z[0],q=z[1],W=Object(n.useState)([]),H=Object(o.a)(W,2),J=H[0],Z=H[1],Y=Object(n.useState)(null),$=Object(o.a)(Y,2),X=$[0],G=$[1],K=We(),Q=Object(o.a)(K,1)[0].user,ee=Object(n.useState)({}),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(""),re=Object(o.a)(ce,2),le=re[0],oe=re[1],ie=c.a.useState(!1),se=Object(o.a)(ie,2),ue=se[0],me=se[1],de=function(){me(!1),x()},pe=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(u.g)(b,"posts",t),n={retweettext:le},e.next=4,Object(u.q)(a,n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){return Object(u.m)(Object(u.g)(b,"posts",m),function(e){i(e.data())})},[b.postId]),console.log(l.image);var fe=l.image,be=l.altText,Ee=l.createdAt,Oe=l.text,je=l.likes;console.log(fe),console.log(be),console.log(Ee),console.log(Oe),console.log(je),Object(n.useEffect)(function(){Object(u.m)(Object(u.g)(b,"users",Q.id),function(e){G(Object(V.a)({id:Q.id},e.data()))}),Object(u.m)(Object(u.g)(b,"users",p),function(e){ne(e.data())}),console.log(p),console.log(ae);var e=!0;return Object(u.h)(Object(u.g)(b,"users",d)).then(function(t){t.exists&&e&&q(t.data())}),function(){return e=!1}},[]),console.log(Q.id),console.log(X),console.log(m),console.log(l),Object(n.useEffect)(function(){var e=Object(u.e)(b,"posts",m,"comments"),t=Object(u.o)(e,Object(u.n)("createdAt","desc"));return Object(u.m)(t,function(e){Z(e.docs.map(function(e){return Object(V.a)({},e.data(),{id:e.id})}))})},[b,m]),console.log(J);var he=function(){};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"BarMiddle"},c.a.createElement("div",{className:"BarMiddle__header"},c.a.createElement("div",{className:"BarMiddle__header-ava"}),c.a.createElement("div",{className:"post__headerExpandIcon",onClick:function(){return f.push("/")}},c.a.createElement(pn.a,null)),c.a.createElement("h2",null,"Home")),c.a.createElement(v,{open:R,onClose:function(){return A(!1)},title:"",callback:he,Icon:bt.a,ButtonText:""},c.a.createElement(yt,{props:{altText:be,text:Oe,image:fe,createdAt:Ee,senderId:d,postId:m,likes:je},profile:F,ownProfile:X})),c.a.createElement(v,{open:L,onClose:function(){return U(!1)},title:"",callback:he,Icon:bt.a,ButtonText:""},c.a.createElement(gt,{props:{altText:be,text:Oe,image:fe,createdAt:Ee,senderId:d,postId:m,likes:je},profile:F,ownProfile:X})),c.a.createElement("div",{className:"retweet-section",ref:t},c.a.createElement("div",{className:"retweet"},c.a.createElement("div",{className:"retweet__avatar"},c.a.createElement(_.a,{src:ae.photoURL})),c.a.createElement("div",{className:"retweet__body"},c.a.createElement("div",{className:"retweet__header"},c.a.createElement("div",{className:"retweet__HeaderText"},c.a.createElement("h3",null,ae.displayName," ",c.a.createElement("span",{className:"retweet__headerSpacial"},ae.verified&&c.a.createElement(vt.a,{className:"retweet__badge"}),"@","".concat(ae.username)),c.a.createElement("div",{className:"retweet__headerDescription"},c.a.createElement("p",null,l.retweettext))),c.a.createElement("div",{className:"retweet__headerExpandIcon","aria-describedby":k,variant:"contained",onClick:function(e){return g(e.currentTarget)}},c.a.createElement(Mt.a,null)),c.a.createElement(C.a,{id:k,open:y,anchorEl:j,onClose:x,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},c.a.createElement("ul",{className:"post__expandList"},p===Q.id&&c.a.createElement("li",{onClick:function(){me(!0),x()}},c.a.createElement("div",null,c.a.createElement(ha.a,null)),c.a.createElement("h3",null,"Edit post")),c.a.createElement("li",null,c.a.createElement("div",null,c.a.createElement(Vt.a,null)),c.a.createElement("h3",null,"Pin to your  profile")))),c.a.createElement("div",null,c.a.createElement(da.a,{open:ue,onClose:de},c.a.createElement(pa.a,null,"Edit Post"),c.a.createElement(fa.a,null,c.a.createElement(ba.a,{"aria-label":"minimum height",minRows:3,placeholder:"What's happing...",style:{width:200},onChange:function(e){return oe(e.target.value)}})),c.a.createElement(Ea.a,null,c.a.createElement(h.a,{onClick:de},"Cancel"),c.a.createElement(h.a,{onClick:function(){pe(m),de()}},"Edit")))))))),c.a.createElement("div",{className:"postr"},c.a.createElement("div",{className:"postr__avatar"},c.a.createElement(_.a,{src:F.photoURL})),c.a.createElement("div",{className:"postr__body"},c.a.createElement("div",{className:"postr__header"},c.a.createElement("div",{className:"postr__HeaderText"},c.a.createElement("h3",null,F.displayName," ",c.a.createElement("span",{className:"postr__headerSpacial"},F.verified&&c.a.createElement(vt.a,{className:"postr__badge"}),"@","".concat(F.username)))),c.a.createElement("div",{className:"postr__headerDescription"},c.a.createElement("p",null,l.text),c.a.createElement("img",{src:l.image,alt:l.altText,onClick:""}))),c.a.createElement("div",null))),c.a.createElement("div",{className:"retweet__footer"},c.a.createElement(_t,{Icon:Tt.a,onClick:function(){return A(!0)},value:J.length}),c.a.createElement(_t,{Icon:Lt.a,value:l.retweets,onClick:function(){return U(!0)}}),c.a.createElement(Rt,{likes:je,unlikeAction:function(){return ia(m,Q.id)},likeAction:function(){return oa(m,Q.id,p)}}),c.a.createElement(_t,{Icon:Pt.a}))),c.a.createElement(jt.a,null,J.map(function(e){return c.a.createElement(mn,{key:e.id,commentId:e.id,postId:e.post,commentAltText:e.commentAltText,replierId:e.senderId,text:e.text,commentimage:e.commentimage,createdAt:e.createdAt,likes:e.likes})}))),c.a.createElement(Aa,null))}),On=a(167),jn=a.n(On),hn=function(e){var t=e.msg,a=e.user1,r=(e.chat,Object(n.useState)("")),l=Object(o.a)(r,2),i=(l[0],l[1],Object(n.useRef)());Object(n.useEffect)(function(){i.current&&i.current.scrollIntoView({behavior:"smooth"}),console.log(t.uid),console.log(t.delid)},[t]);return c.a.createElement("div",{className:"message_wrapper ".concat(t.from===a?"own":""),ref:i},c.a.createElement(jn.a,{onClick:function(){return Object(u.f)(Object(u.g)(b,"messages",t.delid,"chat",t.uid)),void Object(u.q)(Object(u.g)(b,"lastMsg",t.delid),{text:"last message has been delited"})}}),c.a.createElement("p",{className:t.from===a?"me":"friend"},t.media?c.a.createElement("img",{src:t.media,alt:t.altText}):null,t.text,c.a.createElement("br",null),c.a.createElement("small",null,c.a.createElement(Nt.a,{fromNow:!0},t.createdAt.toDate()))))},vn=a(8),gn=a(168),wn=a.n(gn),Nn=a(124),_n=a.n(Nn),xn=(a(243),function(e){var t=e.chat,a=e.user1,r=(e.ch,We()),l=Object(o.a)(r,1)[0].user.displayName,i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],p=Object(n.useState)(Pe(l)),f=Object(o.a)(p,2),E=f[0],O=f[1],j=Object(n.useState)(null),h=Object(o.a)(j,2),g=h[0],w=h[1],N=Object(n.useState)(null),_=Object(o.a)(N,2),x=_[0],y=_[1],k=Object(n.useState)(null),S=Object(o.a)(k,2),I=S[0],B=S[1],L=Object(n.useState)(!1),U=Object(o.a)(L,2),P=U[0],D=U[1],M=Object(n.useState)({width:0,height:0}),z=Object(o.a)(M,2),F=z[0],q=z[1],W=Object(n.useState)(null),H=Object(o.a)(W,2),J=H[0],V=H[1],Y=Object(n.useState)(null),$=Object(o.a)(Y,2),X=$[0],G=$[1],K=Object(n.useState)(!1),Q=Object(o.a)(K,2),ee=Q[0],te=Q[1],ae=function(e){e.preventDefault(),te(!0);var n=t.uid,c="".concat(a>n?a+n:n+a);if(""===m)I?(Ue(I).then(function(e){var t=String(Math.floor(1e5*Math.random()+1)),r=Object(u.g)(b,"messages",c,"chat",t);Object(u.p)(r,Object(vn.a)({altText:E,from:a,to:n,createdAt:u.a.fromDate(new Date),media:e,delid:t,uid:t},"delid",c))}),O(""),y(null),te(!1),B(null)):(O(""),y(null),te(!1),B(null));else if(I)Ue(I).then(function(e){var t=String(Math.floor(1e5*Math.random()+1)),r=Object(u.g)(b,"messages",c,"chat",t);Object(u.p)(r,{altText:E,text:m,from:a,to:n,createdAt:u.a.fromDate(new Date),media:e,uid:t,delid:c})}),d(""),O(""),y(null),te(!1),B(null);else{var r=String(Math.floor(1e5*Math.random()+1)),l=Object(u.g)(b,"messages",c,"chat",r);Object(u.p)(l,{altText:E,text:m,from:a,to:n,createdAt:u.a.fromDate(new Date),media:"",uid:r,delid:c}),d(""),O(""),y(null),te(!1),B(null)}Math.floor(1e5*Math.random()+1),Object(u.p)(Object(u.g)(b,"lastMsg",c),{text:m,from:a,to:n,createdAt:u.a.fromDate(new Date),unread:!0})};Object(n.useEffect)(function(){V(F.width/F.height)},[F]);var ne=[{id:0,title:"",icon:c.a.createElement(Ae.a,null),item:c.a.createElement(be,{image:x,setCroppedImageResult:G,initialAspectRatio:J})},{id:1,title:"ALT",icon:"",item:c.a.createElement(Ee,{image:X,altText:E,setAltText:O})}],ce=Boolean(g),re=ce?"post-popover":void 0;return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,{open:P,onClose:function(){return D(!1)},title:"Edit Photo",Icon:Ie.a,ButtonText:"Save"},c.a.createElement(Z,{items:ne})),c.a.createElement("div",{className:"chat__footer"},x&&c.a.createElement("div",{className:"chat__footer-ImageBox"},c.a.createElement("img",{src:x,alt:"new test"})),c.a.createElement(T,{Icon:wn.a,type:"file",accept:"image/*",name:"image-upload",id:"input-image",onChange:function(e){var t=new FileReader;t.onloadend=function(){y(t.result),B(t.result)},t.readAsDataURL(e.target.files[0]),Le(e).then(function(e){q({width:e.width,height:e.height})})}}),c.a.createElement(Se.a,null),c.a.createElement("form",{onSubmit:ae},c.a.createElement("input",{type:"text",placeholder:"Start a new message",value:m,onChange:function(e){return d(e.target.value)}}),c.a.createElement("div",{className:"chat__footer-emowrapper"},c.a.createElement(we.a,{"aria-describedby":re,type:"button",onClick:function(e){return w(e.currentTarget)}}),c.a.createElement(C.a,{id:re,open:ce,anchorEl:g,onClose:function(){return w(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},style:{transform:"translate(-2rem, -1rem)"}},c.a.createElement(R.a,{onEmojiClick:function(e,t){var a=m+t.emoji;d(a)}}))),x||m.length>0?ee?c.a.createElement("span",{className:"spinnerSpan"},c.a.createElement(A,null)):c.a.createElement(_n.a,{type:"submit",className:"readyBtn",onClick:ae}):c.a.createElement(_n.a,null))))}),yn=(a(244),function(e){var t=e.user1,a=e.suggestion,r=e.selectUser,l=e.chat,i=a&&a.uid,s=Object(n.useState)(""),m=Object(o.a)(s,2),d=m[0],p=m[1];return Object(n.useEffect)(function(){var e="".concat(t>i?t+i:i+t),a=Object(u.m)(Object(u.g)(b,"lastMsg",e),function(e){p(e.data())});return function(){return a()}},[]),c.a.createElement("div",{className:"barRight"},c.a.createElement("div",{className:"user_wrapper ".concat(l.displayName===a.displayName&&"selected_user"),onClick:function(){return r(a)}},c.a.createElement("div",{className:"user_info"},c.a.createElement("div",{className:"user_detail"},c.a.createElement(_.a,{src:a.photoURL}),c.a.createElement("h2",null,a.displayName),d&&d.from!==t&&d&&d.unread&&c.a.createElement("strong",{className:"unread"}," New ")),c.a.createElement("div",{className:"user_status ".concat(a.verified?"online":"offline")})),d&&c.a.createElement("p",{className:"truncate"},c.a.createElement("strong",null,d.from===t?"Me:":null),d.text)))}),kn=function(e){var t=e.user1,a=e.selectUser,r=e.selectUser1,l=e.chat,i=e.users,s=We(),m=Object(o.a)(s,1)[0].user,d=Object(n.useState)(""),p=Object(o.a)(d,2),f=p[0],E=p[1],O=Object(n.useState)([]),j=Object(o.a)(O,2),h=j[0],v=j[1],g=Object(n.useState)(!1),w=Object(o.a)(g,2),N=(w[0],w[1]),_=Object(n.useState)(!1),x=Object(o.a)(_,2),y=x[0],k=x[1],S=Object(n.useState)([]),C=Object(o.a)(S,2),I=C[0],R=C[1];return Object(n.useEffect)(function(){var e=Object(u.o)(Object(u.e)(b,"users"),Object(u.r)("contactes","array-contains",m.id)),t=Object(u.m)(e,function(e){R(e.docs.map(function(e){return Object(V.a)({id:e.id},e.data())}))});return function(){return t()}},[]),c.a.createElement("div",null,c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"search-input ".concat(y?"beingPressed":"")},c.a.createElement("input",{placeholder:"Search",type:"text",onBlur:function(){return k(!1)},onChange:function(e){return function(e){var t=[];e.length>0&&(t=i.filter(function(t){var a=new RegExp("".concat(e),"gi");return t.displayName.match(a)})),console.log(t),v(t),console.log(h),E(e)}(e.target.value)},value:f,onFocus:function(){N(!0),k(!0)}}),c.a.createElement("div",{className:"icon"},c.a.createElement(tt.a,null))),c.a.createElement("div",{className:""},h&&h.map(function(e,n){return c.a.createElement(yn,{key:n,suggestion:e,selectUser:a,user1:t,chat:l})}))),I&&I.map(function(e,a){return c.a.createElement(yn,{key:a,suggestion:e,selectUser:r,user1:t,chat:l})}))},Sn=(a(245),a(170)),Cn=a.n(Sn);function In(){return(In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Rn(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var An=c.a.createElement("line",{x1:23,y1:1,x2:17,y2:7}),Tn=c.a.createElement("line",{x1:17,y1:1,x2:23,y2:7}),Bn=c.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}),Ln=function(e){var t=e.svgRef,a=Rn(e,["svgRef"]);return c.a.createElement("svg",In({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-phone-missed",ref:t},a),An,Tn,Bn)},Un=c.a.forwardRef(function(e,t){return c.a.createElement(Ln,In({svgRef:t},e))});a.p;function Pn(){return(Pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Dn(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Mn=c.a.createElement("circle",{cx:12,cy:12,r:1}),zn=c.a.createElement("circle",{cx:12,cy:5,r:1}),Fn=c.a.createElement("circle",{cx:12,cy:19,r:1}),qn=function(e){var t=e.svgRef,a=Dn(e,["svgRef"]);return c.a.createElement("svg",Pn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-more-vertical",ref:t},a),Mn,zn,Fn)},Wn=c.a.forwardRef(function(e,t){return c.a.createElement(qn,Pn({svgRef:t},e))});a.p;function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Jn(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var Zn=c.a.createElement("rect",{x:9,y:9,width:13,height:13,rx:2,ry:2}),Vn=c.a.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}),Yn=function(e){var t=e.svgRef,a=Jn(e,["svgRef"]);return c.a.createElement("svg",Hn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-copy",ref:t},a),Zn,Vn)},$n=c.a.forwardRef(function(e,t){return c.a.createElement(Yn,Hn({svgRef:t},e))}),Xn=(a.p,a(169)),Gn=(a(246),new RTCPeerConnection({iceServers:[{urls:["stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}],iceCandidatePoolSize:10}));function Kn(e){var t=e.joinCode,a=e.setJoinCode,n=e.setPage,r=Object(Xn.useHistory)();return c.a.createElement("div",{className:"home"},c.a.createElement("div",{className:"create box"},c.a.createElement("button",{onClick:function(){return n("create")}},"Create Call"),c.a.createElement(Ie.a,{onClick:function(){return r.push("")}})),c.a.createElement("div",{className:"answer box"},c.a.createElement("input",{value:t,onChange:function(e){return a(e.target.value)},placeholder:"Join with code"}),c.a.createElement("button",{onClick:function(){return n("join")}},"Answer")))}function Qn(e){var t=e.mode,a=e.callId,r=e.setPage,l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],m=i[1],d=Object(n.useState)(a),p=Object(o.a)(d,2),f=p[0],E=p[1],O=Object(n.useRef)(),j=Object(n.useRef)(),h=function(){var e=Object(N.a)(w.a.mark(function e(){var n,c,r,l,o,i,s,d,p,f,h,g,N,_;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:if(n=e.sent,c=new MediaStream,n.getTracks().forEach(function(e){Gn.addTrack(e,n)}),Gn.ontrack=function(e){e.streams[0].getTracks().forEach(function(e){c.addTrack(e)})},O.current.srcObject=n,j.current.srcObject=c,m(!0),"create"!==t){e.next=29;break}return e.next=12,Object(u.b)(Object(u.e)(b,"calls"),{});case 12:return r=e.sent,l=Object(u.e)(r,"offerCandidates"),o=Object(u.e)(r,"answerCandidates"),E(r.id),Gn.onicecandidate=function(e){e.candidate&&Object(u.b)(l,e.candidate.toJSON())},e.next=19,Gn.createOffer();case 19:return i=e.sent,e.next=22,Gn.setLocalDescription(i);case 22:return s={sdp:i.sdp,type:i.type},e.next=25,Object(u.p)(r,{offer:s});case 25:Object(u.m)(r,function(e){var t=e.data();if(!Gn.currentRemoteDescription&&t.answer){var a=new RTCSessionDescription(t.answer);Gn.setRemoteDescription(a)}}),Object(u.m)(o,function(e){e.docChanges().forEach(function(e){if("added"===e.type){var t=new RTCIceCandidate(e.doc.data());Gn.addIceCandidate(t)}})}),e.next=49;break;case 29:if("join"!==t){e.next=49;break}return d=Object(u.g)(b,"calls",a),p=Object(u.e)(d,"answerCandidates"),f=Object(u.e)(d,"offerCandidates"),Gn.onicecandidate=function(e){e.candidate&&Object(u.b)(p,e.candidate.toJSON())},e.next=36,Object(u.h)(d);case 36:return h=e.sent.data(),g=h.offer,e.next=40,Gn.setRemoteDescription(new RTCSessionDescription(g));case 40:return e.next=42,Gn.createAnswer();case 42:return N=e.sent,e.next=45,Gn.setLocalDescription(N);case 45:return _={type:N.type,sdp:N.sdp},e.next=48,Object(u.p)(d,{answer:_});case 48:Object(u.m)(f,function(e){e.docChanges().forEach(function(e){if("added"===e.type){var t=e.doc.data();Gn.addIceCandidate(new RTCIceCandidate(t))}})});case 49:Gn.onconnectionstatechange=function(e){"disconnected"===Gn.connectionState&&v()};case 50:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(N.a)(w.a.mark(function e(){var t,a,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Gn.close(),f&&(t=Object(u.g)(b,"calls",f),a=Object(u.o)(Object(u.e)(t,"answerCandidates")),Object(u.m)(a,function(e){e.forEach(function(e){e.ref.delete()})}),n=Object(u.o)(Object(u.e)(t,"offerCandidates")),Object(u.m)(n,function(e){e.forEach(function(e){e.ref.delete()})})),window.location.reload();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"videos"},c.a.createElement("video",{ref:O,autoPlay:!0,playsInline:!0,className:"local",muted:!0}),c.a.createElement("video",{ref:j,autoPlay:!0,playsInline:!0,className:"remote"}),c.a.createElement("div",{className:"buttonsContainer"},c.a.createElement("button",{onClick:v,disabled:!s,className:"hangup button"},c.a.createElement(Un,null)),c.a.createElement("div",{tabIndex:0,role:"button",className:"more button"},c.a.createElement(Wn,null),c.a.createElement("div",{className:"popover"},c.a.createElement("button",{onClick:function(){navigator.clipboard.writeText(f)}},c.a.createElement($n,null),"Copy joining code")))),!s&&c.a.createElement("div",{className:"modalContainer"},c.a.createElement("div",{className:"modal"},c.a.createElement("h3",null,"Turn on your camera and microphone and start the call"),c.a.createElement("div",{className:"container"},c.a.createElement("button",{onClick:function(){return r("home")},className:"secondary"},"Cancel"),c.a.createElement("button",{onClick:h},"Start")))))}var ec=function(){var e=Object(n.useState)("home"),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),i=Object(o.a)(l,2),s=i[0],u=i[1];return c.a.createElement("div",{className:"app"},"home"===a?c.a.createElement(Kn,{joinCode:s,setJoinCode:u,setPage:r}):c.a.createElement(Qn,{mode:a,callId:s,setPage:r}))},tc=function(){var e=We(),t=Object(o.a)(e,1)[0].user,a=Object(n.useState)([]),r=Object(o.a)(a,2),l=r[0],i=r[1],m=Object(n.useState)(""),d=Object(o.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)([]),O=Object(o.a)(E,2),j=O[0],h=O[1],v=Object(n.useState)({}),g=Object(o.a)(v,2),x=g[0],y=g[1],k=Object(n.useState)([]),S=Object(o.a)(k,2),C=S[0],I=S[1],R=Object(n.useState)(!1),A=Object(o.a)(R,2),T=A[0],B=A[1],L=Object(s.useHistory)(),U=t.id;Object(n.useEffect)(function(){var e=Object(u.e)(b,"users"),t=Object(u.o)(e,Object(u.r)("uid","not-in",[U])),a=Object(u.m)(t,function(e){var t=[];e.forEach(function(e){t.push(e.data())}),i(t)});return function(){return a()}}),Object(n.useEffect)(function(){var e=[],t=Object(u.o)(Object(u.g)(b,"users",U)),a=Object(u.m)(t,function(t){e.push(t.data().contactes[0]),I(e)});return function(){return a()}},[]),Object(u.h)(Object(u.g)(b,"users",U)).then(function(e){var t=e.data();y(t)});var P=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n,c,r,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(t),a=t.uid,n="".concat(U>a?U+a:a+U),C.includes(t.uid)||(Object(u.q)(Object(u.g)(b,"users",U),{contactes:Object(u.d)(t.uid)}),Object(u.q)(Object(u.g)(b,"users",t.uid),{contactes:Object(u.d)(x.uid)})),c=Object(u.e)(b,"messages",n,"chat"),r=Object(u.o)(c,Object(u.n)("createdAt","asc")),Object(u.m)(r,function(e){var t=[];e.forEach(function(e){t.push(e.data()),console.log(e.id)}),h(t)}),e.next=9,Object(u.h)(Object(u.g)(b,"lastMsg",n));case 9:if(!(l=e.sent).data()||l.data().from===U){e.next=13;break}return e.next=13,Object(u.q)(Object(u.g)(b,"lastMsg",n),{unread:!1});case 13:case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(N.a)(w.a.mark(function e(t){var a,n,c,r,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(t),a=t.uid,n="".concat(U>a?U+a:a+U),c=Object(u.e)(b,"messages",n,"chat"),r=Object(u.o)(c,Object(u.n)("createdAt","asc")),Object(u.m)(r,function(e){var t=[];e.forEach(function(e){t.push(e.data()),console.log(e.id)}),h(t)}),e.next=8,Object(u.h)(Object(u.g)(b,"lastMsg",n));case 8:if(!(l=e.sent).data()||l.data().from===U){e.next=12;break}return e.next=12,Object(u.q)(Object(u.g)(b,"lastMsg",n),{unread:!1});case 12:case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"app__main"},c.a.createElement("div",{className:"users_container"},c.a.createElement(kn,{selectUser1:D,selectUser:P,user1:U,chat:p,users:l})),c.a.createElement("div",{className:"BarMiddle"},c.a.createElement("div",{className:"messages_container"},p?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"BarMiddle__header"},c.a.createElement(pn.a,{onClick:function(){return L.push("/contacte")}}),c.a.createElement(_.a,{src:p.photoURL,className:"BarMiddle__header-ava"}),c.a.createElement("h2",null,p.displayName),c.a.createElement(Cn.a,{className:"video",onClick:function(){B(!0)}})),c.a.createElement("div",{className:" messages"},j.length?j.map(function(e,t){return c.a.createElement(hn,{key:t,msg:e,user1:U,chat:p})}):null,c.a.createElement("div",{className:"videos"},!!T&&c.a.createElement(ec,null))),c.a.createElement(xn,{chat:p,user1:U})):c.a.createElement("div",null,c.a.createElement(pn.a,{onClick:function(){return L.push("/contacte")}}),c.a.createElement("h3",{className:"no_conv"},"Select a user to start conversation")," "))))},ac=(a(247),function(){var e=We(),t=Object(o.a)(e,2),a=t[0].user,r=t[1];return Object(n.useEffect)(function(){r({type:ze,user:JSON.parse(localStorage.getItem("noctua_user"))})},[]),c.a.createElement("div",{className:"app"},a?c.a.createElement(i.a,null,c.a.createElement("div",{className:"app__mainContent"},c.a.createElement(Et,null),c.a.createElement(s.Switch,null,c.a.createElement(s.Route,{exact:!0,path:"/post/:postId/:senderId"},c.a.createElement(fn,null)),c.a.createElement(s.Route,{exact:!0,path:"/post/:postId/:senderId/:retweeterId"},c.a.createElement(En,null)),c.a.createElement(s.Route,{exact:!0,path:"/"},c.a.createElement("div",{className:"app__main"},c.a.createElement(ka,null),c.a.createElement(Aa,null))),c.a.createElement(s.Route,{exact:!0,path:"/Notifications"},c.a.createElement("div",{className:"app__main"},c.a.createElement(bn,null),c.a.createElement(Aa,null))),c.a.createElement(s.Route,{exact:!0,path:"/messages"},c.a.createElement(tc,null)),c.a.createElement(s.Route,{exact:!0,path:"mcontact"},c.a.createElement(kn,null)),c.a.createElement(s.Route,{exact:!0,path:"/msg"},c.a.createElement(ec,null)),c.a.createElement(s.Route,{path:"/profile/:username"},c.a.createElement("div",{className:"app__main"},c.a.createElement(s.Switch,null,c.a.createElement(s.Route,{path:"/profile/:username",exact:!0,component:en}),c.a.createElement(s.Route,{path:"/profile/:username/followinfo",render:function(){return c.a.createElement(nn,null)}})),c.a.createElement(an,null))))),c.a.createElement(ln,null)):c.a.createElement(Ua,null))});l.a.render(c.a.createElement(He,null,c.a.createElement(ac,null)),document.querySelector("#root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.7e1b1e3a.chunk.js.map